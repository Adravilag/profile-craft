import{r as f,j as e,x as O,M as X,y as W,z as J,A as K,B as ee}from"./index-DCiyghQt.js";import{H as ie}from"./HeaderSection-CEaPDguv.js";import{F as ae}from"./FloatingActionButtonGroup-DY0FKUTU.js";const Z=[{id:"aws",name:"Amazon Web Services (AWS)",logoUrl:"/assets/images/certification-logos/aws.svg",verifyBaseUrl:"https://www.credly.com/badges/",category:"cloud",description:"Certificaciones de servicios en la nube de Amazon"},{id:"microsoft",name:"Microsoft Azure",logoUrl:"/assets/images/certification-logos/microsoft.svg",verifyBaseUrl:"https://learn.microsoft.com/en-us/users/",category:"cloud",description:"Certificaciones de Microsoft Azure y tecnologÃ­as relacionadas"},{id:"google-cloud",name:"Google Cloud Platform",logoUrl:"/assets/images/certification-logos/google-cloud.svg",verifyBaseUrl:"https://www.credential.net/profile/",category:"cloud",description:"Certificaciones de Google Cloud Platform"},{id:"sololearn",name:"SoloLearn",logoUrl:"/assets/images/certification-logos/sololearn.png",verifyBaseUrl:"https://www.sololearn.com/certificates/",certificateImageUrl:"https://api2.sololearn.com/v2/certificates/{credentialId}/image/pdf",category:"programming",description:"Certificaciones de programaciÃ³n y desarrollo web"},{id:"codecademy",name:"Codecademy",logoUrl:"/assets/images/certification-logos/codecademy.svg",verifyBaseUrl:"https://www.codecademy.com/profiles/",category:"programming",description:"Certificaciones de programaciÃ³n y ciencias de datos"},{id:"freecodecamp",name:"freeCodeCamp",logoUrl:"/assets/images/certification-logos/freecodecamp.svg",verifyBaseUrl:"https://www.freecodecamp.org/certification/",category:"programming",description:"Certificaciones gratuitas de desarrollo web y programaciÃ³n"},{id:"udemy",name:"Udemy",logoUrl:"/assets/images/certification-logos/udemy.svg",verifyBaseUrl:"https://www.udemy.com/certificate/",category:"programming",description:"Certificaciones de cursos en lÃ­nea"},{id:"coursera",name:"Coursera",logoUrl:"/assets/images/certification-logos/coursera.svg",verifyBaseUrl:"https://www.coursera.org/account/accomplishments/certificate/",category:"programming",description:"Certificaciones universitarias y profesionales"},{id:"oracle",name:"Oracle",logoUrl:"/assets/images/certifications/oracle-logo.png",verifyBaseUrl:"https://catalog-education.oracle.com/pls/certview/sharebadge?id=",category:"database",description:"Certificaciones de Oracle Database y tecnologÃ­as Java"},{id:"mongodb",name:"MongoDB",logoUrl:"/assets/images/certifications/mongodb-logo.png",verifyBaseUrl:"https://university.mongodb.com/certification/verify/",category:"database",description:"Certificaciones de MongoDB y NoSQL"},{id:"cisco",name:"Cisco",logoUrl:"/assets/images/certifications/cisco-logo.png",verifyBaseUrl:"https://www.cisco.com/c/en/us/training-events/training-certifications/certifications/verify.html",category:"security",description:"Certificaciones de redes y ciberseguridad"},{id:"comptia",name:"CompTIA",logoUrl:"/assets/images/certifications/comptia-logo.png",verifyBaseUrl:"https://www.certmetrics.com/comptia/public/verification.aspx",category:"security",description:"Certificaciones de TI y ciberseguridad"},{id:"adobe",name:"Adobe",logoUrl:"/assets/images/certifications/adobe-logo.png",verifyBaseUrl:"https://www.adobe.com/training/certification/verification.html",category:"design",description:"Certificaciones de diseÃ±o grÃ¡fico y multimedia"},{id:"figma",name:"Figma",logoUrl:"/assets/images/certifications/figma-logo.png",category:"design",description:"Certificaciones de diseÃ±o UX/UI"},{id:"pmi",name:"Project Management Institute (PMI)",logoUrl:"/assets/images/certifications/pmi-logo.png",verifyBaseUrl:"https://www.pmi.org/certifications/certification-registry",category:"project-management",description:"Certificaciones de gestiÃ³n de proyectos"},{id:"scrum",name:"Scrum.org",logoUrl:"/assets/images/certifications/scrum-logo.png",verifyBaseUrl:"https://www.scrum.org/user/",category:"project-management",description:"Certificaciones de metodologÃ­as Ã¡giles y Scrum"},{id:"linkedin",name:"LinkedIn Learning",logoUrl:"/assets/images/certification-logos/linkedin.svg",verifyBaseUrl:"https://www.linkedin.com/learning/certificates/",category:"other",description:"Certificaciones profesionales de LinkedIn"},{id:"edx",name:"edX",logoUrl:"/assets/images/certifications/edx-logo.png",verifyBaseUrl:"https://courses.edx.org/certificates/",category:"other",description:"Certificaciones universitarias en lÃ­nea"},{id:"platzi",name:"Platzi",logoUrl:"/assets/images/certifications/platzi-logo.png",verifyBaseUrl:"https://platzi.com/p/",category:"programming",description:"Certificaciones de tecnologÃ­a en espaÃ±ol"}],$=(u,m)=>{if(!(!u.verifyBaseUrl||!m))return`${u.verifyBaseUrl}${m}`},H=(u,m)=>{if(!(!u.certificateImageUrl||!m))return u.certificateImageUrl.replace("{credentialId}",m)},se=(u,m)=>{if(!m||!m.trim())return!1;const r=m.trim();switch(u.id){case"aws":return/^[A-Za-z0-9-]{8,50}$/.test(r);case"microsoft":return/^[A-Za-z0-9-]{10,40}$/.test(r);case"google-cloud":return/^[A-Za-z0-9-]{10,40}$/.test(r);case"sololearn":return/^CT-[A-Z0-9]{6,20}$/.test(r);case"codecademy":return/^[A-Za-z0-9]{6,30}$/.test(r);case"freecodecamp":return/^[a-zA-Z0-9_-]+\/[a-zA-Z0-9_-]+$/.test(r);case"udemy":return/^[A-Z0-9]{10,30}$/.test(r);case"coursera":return/^[A-Za-z0-9-]{10,40}$/.test(r);case"oracle":return/^[A-Z0-9]{8,25}$/.test(r);case"mongodb":return/^[A-Za-z0-9]{8,30}$/.test(r);case"cisco":return/^[A-Z0-9]{10,25}$/.test(r);case"comptia":return/^[A-Z0-9]{8,20}$/.test(r);case"linkedin":return/^[A-Za-z0-9]{8,40}$/.test(r);case"platzi":return/^[a-zA-Z0-9_-]+\/[a-zA-Z0-9_-]+$/.test(r);default:return/^[A-Za-z0-9-_]{6,50}$/.test(r)}},P=u=>{switch(u.id){case"aws":return"Ej: ABC123DEF456";case"microsoft":return"Ej: MC-123456-789";case"google-cloud":return"Ej: GCP123456789";case"sololearn":return"Ej: CT-SBWD5KGG";case"codecademy":return"Ej: ABC123XYZ789";case"freecodecamp":return"Ej: usuario/responsive-web-design";case"udemy":return"Ej: UC-12345678";case"coursera":return"Ej: ABCD1234EFGH";case"oracle":return"Ej: 1Z0-123456";case"mongodb":return"Ej: MDB123456";case"cisco":return"Ej: CSCO12345678";case"comptia":return"Ej: COMP123456";case"linkedin":return"Ej: AaBbCcDdEeFf";case"platzi":return"Ej: usuario/certificado-react";default:return"Ej: ABC123XYZ789"}},V=[{id:"all",name:"Todas las categorÃ­as"},{id:"cloud",name:"Cloud Computing"},{id:"programming",name:"ProgramaciÃ³n"},{id:"database",name:"Bases de Datos"},{id:"security",name:"Ciberseguridad"},{id:"design",name:"DiseÃ±o"},{id:"project-management",name:"GestiÃ³n de Proyectos"},{id:"other",name:"Otros"}],te="_issuerSelectorContainer_7z00y_3",re="_inputContainer_7z00y_8",ne="_issuerInput_7z00y_14",ce="_inputButtons_7z00y_32",oe="_clearButton_7z00y_41",le="_dropdownButton_7z00y_42",de="_rotated_7z00y_68",me="_dropdownContainer_7z00y_72",fe="_categoryFilters_7z00y_102",ue="_filterLabel_7z00y_108",_e="_categoryButtons_7z00y_115",ge="_categoryButton_7z00y_115",pe="_active_7z00y_139",ye="_issuersList_7z00y_145",he="_noResults_7z00y_151",ve="_issuerOption_7z00y_177",xe="_hovered_7z00y_192",je="_issuerLogo_7z00y_200",we="_logoFallback_7z00y_218",Ce="_issuerInfo_7z00y_229",Ne="_issuerName_7z00y_234",Ie="_issuerDescription_7z00y_244",be="_issuerCategory_7z00y_254",ze="_selectIcon_7z00y_263",Be="_dropdownFooter_7z00y_284",l={issuerSelectorContainer:te,inputContainer:re,issuerInput:ne,inputButtons:ce,clearButton:oe,dropdownButton:le,rotated:de,dropdownContainer:me,categoryFilters:fe,filterLabel:ue,categoryButtons:_e,categoryButton:ge,active:pe,issuersList:ye,noResults:he,issuerOption:ve,hovered:xe,issuerLogo:je,logoFallback:we,issuerInfo:Ce,issuerName:Ne,issuerDescription:Ie,issuerCategory:be,selectIcon:ze,dropdownFooter:Be},Ae=({value:u,onChange:m,placeholder:r="Seleccionar emisor",required:S=!1,name:j,id:N})=>{const[w,p]=f.useState(!1),[C,h]=f.useState(u),[I,d]=f.useState("all"),[v,t]=f.useState(null),_=f.useRef(null),o=f.useRef(null),b=Z.filter(n=>{const B=n.name.toLowerCase().includes(C.toLowerCase())||n.id.toLowerCase().includes(C.toLowerCase()),A=I==="all"||n.category===I;return B&&A});f.useEffect(()=>{const n=B=>{_.current&&!_.current.contains(B.target)&&p(!1)};return document.addEventListener("mousedown",n),()=>document.removeEventListener("mousedown",n)},[]);const D=n=>{h(n.name),m(n),p(!1)},E=n=>{h(n.target.value),w||p(!0)},L=()=>{p(!0)},M=()=>{h(""),m({})};return e.jsxs("div",{className:l.issuerSelectorContainer,ref:_,children:[e.jsxs("div",{className:l.inputContainer,children:[e.jsx("input",{ref:o,type:"text",value:C,onChange:E,onFocus:L,placeholder:r,required:S,name:j,id:N,className:l.issuerInput,autoComplete:"off"}),e.jsxs("div",{className:l.inputButtons,children:[C&&e.jsx("button",{type:"button",className:l.clearButton,onClick:M,title:"Limpiar selecciÃ³n",children:e.jsx("i",{className:"fas fa-times"})}),e.jsx("button",{type:"button",className:l.dropdownButton,onClick:()=>p(!w),title:"Abrir selector",children:e.jsx("i",{className:`fas fa-chevron-down ${w?l.rotated:""}`})})]})]}),w&&e.jsxs("div",{className:l.dropdownContainer,children:[e.jsxs("div",{className:l.categoryFilters,children:[e.jsx("div",{className:l.filterLabel,children:"CategorÃ­as:"}),e.jsx("div",{className:l.categoryButtons,children:V.map(n=>e.jsx("button",{type:"button",className:`${l.categoryButton} ${I===n.id?l.active:""}`,onClick:()=>d(n.id),children:n.name},n.id))})]}),e.jsx("div",{className:l.issuersList,children:b.length===0?e.jsxs("div",{className:l.noResults,children:[e.jsx("i",{className:"fas fa-search"}),e.jsx("p",{children:"No se encontraron emisores"}),e.jsx("small",{children:"Prueba con otro tÃ©rmino de bÃºsqueda o categorÃ­a"})]}):b.map(n=>{var B;return e.jsxs("button",{type:"button",className:`${l.issuerOption} ${v===n.id?l.hovered:""}`,onClick:()=>D(n),onMouseEnter:()=>t(n.id),onMouseLeave:()=>t(null),children:[e.jsxs("div",{className:l.issuerLogo,children:[e.jsx("img",{src:n.logoUrl,alt:`${n.name} logo`,onError:A=>{A.target.style.display="none";const k=A.target.nextElementSibling;k&&(k.style.display="flex")}}),e.jsx("div",{className:l.logoFallback,children:e.jsx("i",{className:"fas fa-certificate"})})]}),e.jsxs("div",{className:l.issuerInfo,children:[e.jsx("div",{className:l.issuerName,children:n.name}),n.description&&e.jsx("div",{className:l.issuerDescription,children:n.description}),e.jsxs("div",{className:l.issuerCategory,children:[e.jsx("i",{className:"fas fa-tag"}),(B=V.find(A=>A.id===n.category))==null?void 0:B.name]})]}),e.jsx("div",{className:l.selectIcon,children:e.jsx("i",{className:"fas fa-plus"})})]},n.id)})}),e.jsx("div",{className:l.dropdownFooter,children:e.jsxs("small",{children:[e.jsx("i",{className:"fas fa-info-circle"}),"Se cargarÃ¡n automÃ¡ticamente el logo y URL de verificaciÃ³n"]})})]})]})},Se="_credentialInputContainer_ms5xh_3",Ue="_inputWrapper_ms5xh_7",Ee="_credentialInput_ms5xh_3",De="_checking_ms5xh_37",Le="_valid_ms5xh_42",ke="_invalid_ms5xh_48",$e="_statusContainer_ms5xh_55",Me="_statusIcon_ms5xh_63",Fe="_validIcon_ms5xh_68",Te="_invalidIcon_ms5xh_73",Ge="_helpText_ms5xh_102",He="_verifyContainer_ms5xh_111",Ze="_verifyLink_ms5xh_116",Re="_errorContainer_ms5xh_142",y={credentialInputContainer:Se,inputWrapper:Ue,credentialInput:Ee,checking:De,valid:Le,invalid:ke,statusContainer:$e,statusIcon:Me,validIcon:Fe,invalidIcon:Te,helpText:Ge,verifyContainer:He,verifyLink:Ze,errorContainer:Re},Pe=({value:u,onChange:m,issuer:r,placeholder:S="ID de Credencial"})=>{const[j,N]=f.useState(null),[w,p]=f.useState(!1),[C,h]=f.useState();f.useEffect(()=>{if(!u.trim()||!r){N(null),h(void 0);return}p(!0);const t=setTimeout(()=>{const _=se(r,u);if(N(_),_){const o=$(r,u);h(o)}else h(void 0);p(!1)},800);return()=>clearTimeout(t)},[u,r]);const I=t=>{m(t.target.value)},d=()=>w?y.checking:j===!0?y.valid:j===!1?y.invalid:"",v=()=>w?e.jsx("i",{className:`fas fa-spinner fa-spin ${y.statusIcon}`}):j===!0?e.jsx("i",{className:`fas fa-check-circle ${y.statusIcon} ${y.validIcon}`}):j===!1?e.jsx("i",{className:`fas fa-times-circle ${y.statusIcon} ${y.invalidIcon}`}):null;return e.jsxs("div",{className:y.credentialInputContainer,children:[e.jsxs("div",{className:`${y.inputWrapper} ${d()}`,children:[e.jsx("input",{type:"text",value:u,onChange:I,placeholder:r?P(r):S,className:y.credentialInput}),e.jsx("div",{className:y.statusContainer,children:v()})]}),r&&e.jsx("div",{className:y.helpText,children:P(r)}),j===!0&&C&&e.jsx("div",{className:y.verifyContainer,children:e.jsxs("a",{href:C,target:"_blank",rel:"noopener noreferrer",className:y.verifyLink,children:[e.jsx("i",{className:"fas fa-external-link-alt"}),e.jsx("span",{children:"Verificar certificaciÃ³n"})]})}),j===!1&&u.trim()&&e.jsxs("div",{className:y.errorContainer,children:[e.jsx("i",{className:"fas fa-exclamation-triangle"}),e.jsxs("span",{children:["Formato de credencial no vÃ¡lido para ",r==null?void 0:r.name]})]})]})},Ve="_certificationsAdminOverlay_wyzm5_44",Oe="_formModalOverlay_wyzm5_60",We="_formModal_wyzm5_60",Qe="_certificationsAdminModal_wyzm5_90",Ye="_adminHeader_wyzm5_137",qe="_closeBtn_wyzm5_156",Xe="_adminToolbar_wyzm5_181",Je="_toolbarLeft_wyzm5_190",Ke="_toolbarRight_wyzm5_196",ei="_statsText_wyzm5_202",ii="_newCertificationBtn_wyzm5_212",ai="_demoCrudBtn_wyzm5_233",si="_loading_wyzm5_276",ti="_emptyState_wyzm5_276",ri="_certificationsList_wyzm5_299",ni="_adminCertificationCard_wyzm5_305",ci="_certificationHeader_wyzm5_319",oi="_certificationImage_wyzm5_325",li="_placeholderImage_wyzm5_343",di="_certificationInfo_wyzm5_348",mi="_issuer_wyzm5_359",fi="_date_wyzm5_366",ui="_credentialId_wyzm5_367",_i="_verifyLink_wyzm5_376",gi="_certificationActions_wyzm5_393",pi="_actionBtn_wyzm5_399",yi="_editBtn_wyzm5_414",hi="_deleteBtn_wyzm5_425",vi="_modernInput_wyzm5_489",xi="_formRow_wyzm5_523",ji="_formGroup_wyzm5_538",wi="_formHeader_wyzm5_558",Ci="_certificationForm_wyzm5_577",Ni="_formActions_wyzm5_621",Ii="_btnPrimary_wyzm5_630",bi="_btnSecondary_wyzm5_631",zi="_issuerPreview_wyzm5_673",Bi="_previewHeader_wyzm5_720",Ai="_previewContent_wyzm5_743",Si="_previewLogo_wyzm5_751",Ui="_previewInfo_wyzm5_825",Ei="_previewName_wyzm5_832",Di="_previewDescription_wyzm5_845",Li="_previewDetails_wyzm5_854",ki="_previewCategory_wyzm5_861",$i="_previewVerify_wyzm5_862",Mi="_certMetadata_wyzm5_1349",Fi="_formHeaderActions_wyzm5_1421",a={certificationsAdminOverlay:Ve,formModalOverlay:Oe,formModal:We,certificationsAdminModal:Qe,adminHeader:Ye,closeBtn:qe,adminToolbar:Xe,toolbarLeft:Je,toolbarRight:Ke,statsText:ei,newCertificationBtn:ii,demoCrudBtn:ai,loading:si,emptyState:ti,certificationsList:ri,adminCertificationCard:ni,certificationHeader:ci,certificationImage:oi,placeholderImage:li,certificationInfo:di,issuer:mi,date:fi,credentialId:ui,verifyLink:_i,certificationActions:gi,actionBtn:pi,editBtn:yi,deleteBtn:hi,modernInput:vi,formRow:xi,formGroup:ji,formHeader:wi,certificationForm:Ci,formActions:Ni,btnPrimary:Ii,btnSecondary:bi,issuerPreview:zi,previewHeader:Bi,previewContent:Ai,previewLogo:Si,previewInfo:Ui,previewName:Ei,previewDescription:Di,previewDetails:Li,previewCategory:ki,previewVerify:$i,certMetadata:Mi,formHeaderActions:Fi},Ti=({onClose:u})=>{const[m,r]=f.useState([]),[S,j]=f.useState(!0),[N,w]=f.useState(!1),[p,C]=f.useState(null),[h,I]=f.useState(!1),{showSuccess:d,showError:v}=O(),[t,_]=f.useState({title:"",issuer:"",date:"",credential_id:"",image_url:"",order_index:0}),[o,b]=f.useState(null),D={title:"",issuer:"",date:"",credential_id:"",image_url:"",order_index:0},E=async()=>{try{j(!0);const i=await W();r(i)}catch(i){console.error("Error cargando certificaciones:",i),v("Error","No se pudieron cargar las certificaciones")}finally{j(!1)}};f.useEffect(()=>{E()},[]);const L=i=>{const{name:s,value:c}=i.target;_(x=>({...x,[s]:s==="order_index"?parseInt(c)||0:c}))},M=i=>{_(s=>({...s,date:i.target.value}))},n=i=>{if(i.name){if(b(i),_(s=>({...s,issuer:i.name,image_url:i.logoUrl||s.image_url})),t.credential_id&&t.credential_id.trim()){if(i.verifyBaseUrl){const s=$(i,t.credential_id);s&&_(c=>({...c,verify_url:s}))}if(i.certificateImageUrl){const s=H(i,t.credential_id);s&&_(c=>({...c,image_url:s}))}}}else b(null),_(s=>({...s,issuer:"",image_url:"",verify_url:""}))},B=async i=>{if(i.preventDefault(),!t.title.trim()||!t.issuer.trim()||!t.date.trim()){v("Error de validaciÃ³n","TÃ­tulo, emisor y fecha son obligatorios");return}try{I(!0);let s="",c=t.image_url;if(o&&t.credential_id.trim()){const z=$(o,t.credential_id);if(z&&(s=z),o.certificateImageUrl){const U=H(o,t.credential_id);U&&(c=U)}}else o&&!t.credential_id.trim()&&(c=o.logoUrl||t.image_url);const x={...t,date:k(t.date),image_url:c,verify_url:s||void 0,user_id:1,order_index:t.order_index||m.length};p?(await K(p,x),d("Â¡CertificaciÃ³n actualizada!","Los cambios se han guardado correctamente")):(await ee(x),d("Â¡CertificaciÃ³n creada!","La nueva certificaciÃ³n se ha aÃ±adido correctamente")),await E(),F()}catch(s){console.error("Error guardando certificaciÃ³n:",s),v("Error","No se pudo guardar la certificaciÃ³n")}finally{I(!1)}},A=i=>{if(!i)return"";if(/^\d{4}-\d{2}$/.test(i))return i;if(/^\d{4}$/.test(i))return`${i}-01`;const s={enero:"01",febrero:"02",marzo:"03",abril:"04",mayo:"05",junio:"06",julio:"07",agosto:"08",septiembre:"09",octubre:"10",noviembre:"11",diciembre:"12"},c={january:"01",february:"02",march:"03",april:"04",may:"05",june:"06",july:"07",august:"08",september:"09",october:"10",november:"11",december:"12"},x=i.toLowerCase(),z=i.match(/(\d{4})/);if(z){const U=z[1];for(const[T,G]of Object.entries(s))if(x.includes(T))return`${U}-${G}`;for(const[T,G]of Object.entries(c))if(x.includes(T))return`${U}-${G}`;return`${U}-01`}return""},k=i=>{if(!i||!i.includes("-"))return i;const[s,c]=i.split("-"),x=["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],z=parseInt(c)-1;return z>=0&&z<12?`${x[z]} ${s}`:i},Q=i=>{const s=Z.find(c=>c.name===i.issuer);_({title:i.title,issuer:i.issuer,date:A(i.date),credential_id:i.credential_id||"",image_url:i.image_url||"",order_index:i.order_index}),b(s||null),C(i._id||i.id||null),w(!0)},Y=async(i,s)=>{if(confirm(`ðŸ—‘ï¸ Â¿EstÃ¡s seguro de eliminar la certificaciÃ³n "${s}"?

Esta acciÃ³n no se puede deshacer.`))try{await J(i.toString()),d("Â¡CertificaciÃ³n eliminada!","La certificaciÃ³n se ha eliminado correctamente"),await E()}catch(c){console.error("Error eliminando certificaciÃ³n:",c),v("Error","No se pudo eliminar la certificaciÃ³n")}},F=()=>{w(!1),_(D),b(null),C(null)},q=()=>{_({...D,order_index:m.length}),b(null),C(null),w(!0)},R=()=>{if(N){const i={title:"AWS Solutions Architect Associate",issuer:"Amazon Web Services",date:"2024-06",credential_id:"AWS-SAA-C03-123456",image_url:"https://d1.awsstatic.com/training-and-certification/certification-badges/AWS-Certified-Solutions-Architect-Associate_badge.3419559c682629072f1eb968d59dea0741772c0f.png",order_index:m.length};_(i);const s=Z.find(c=>c.name.toLowerCase().includes("amazon")||c.name.toLowerCase().includes("aws"));s&&b(s),d("Datos demo cargados","Se han cargado datos de ejemplo en el formulario")}else v("Error","Primero abre el formulario para usar datos demo")};return e.jsx(X,{children:e.jsx("div",{className:a.certificationsAdminOverlay,children:e.jsxs("div",{className:a.certificationsAdminModal,children:[e.jsxs("div",{className:a.adminHeader,children:[e.jsxs("h2",{children:[e.jsx("i",{className:"fas fa-certificate"}),"AdministraciÃ³n de Certificaciones"]})," ",e.jsx("button",{className:a.closeBtn,onClick:u,children:e.jsx("i",{className:"fas fa-times"})})]})," ",e.jsxs("div",{className:a.adminToolbar,children:[e.jsxs("div",{className:a.toolbarLeft,children:[e.jsxs("button",{className:a.newCertificationBtn,onClick:q,children:[e.jsx("i",{className:"fas fa-plus"}),"Nueva CertificaciÃ³n"]}),e.jsxs("button",{className:a.demoCrudBtn,onClick:R,title:"Llenar con datos de ejemplo",children:[e.jsx("i",{className:"fas fa-magic"}),"Datos Demo"]})]}),e.jsx("div",{className:a.toolbarRight,children:e.jsxs("span",{className:a.statsText,children:[m.length," certificaciones totales"]})})]})," ",e.jsx("div",{className:"admin-content",children:S?e.jsxs("div",{className:a.loading,children:[e.jsx("i",{className:"fas fa-spinner fa-spin"}),e.jsx("p",{children:"Cargando certificaciones..."})]}):m.length===0?e.jsxs("div",{className:a.emptyState,children:[e.jsx("i",{className:"fas fa-certificate"}),e.jsx("h3",{children:"No hay certificaciones"}),e.jsx("p",{children:"AÃ±ade la primera certificaciÃ³n usando el botÃ³n de arriba."})]}):e.jsx("div",{className:a.certificationsList,children:m.map(i=>e.jsxs("div",{className:a.adminCertificationCard,children:[" ",e.jsxs("div",{className:a.certificationHeader,children:[e.jsx("div",{className:a.certificationImage,children:i.image_url?e.jsx("img",{src:i.image_url,alt:i.title,onError:s=>{s.target.src="/assets/images/foto-perfil.jpg"}}):e.jsx("div",{className:a.placeholderImage,children:e.jsx("i",{className:"fas fa-certificate"})})}),e.jsxs("div",{className:a.certificationInfo,children:[e.jsx("h3",{children:i.title}),e.jsx("p",{className:a.issuer,children:i.issuer}),e.jsxs("div",{className:a.certMetadata,children:[e.jsxs("p",{className:a.date,children:[e.jsx("i",{className:"fas fa-calendar-alt"}),e.jsx("span",{children:i.date})]}),i.credential_id&&e.jsxs("p",{className:a.credentialId,children:[e.jsx("i",{className:"fas fa-id-badge"}),e.jsxs("span",{children:["ID: ",i.credential_id]})]}),i.verify_url&&e.jsxs("a",{href:i.verify_url,target:"_blank",rel:"noopener noreferrer",className:a.verifyLink,title:"Verificar certificaciÃ³n online",children:[e.jsx("i",{className:"fas fa-external-link-alt"}),e.jsx("span",{children:"Verificar online"})]})]})]})]}),e.jsxs("div",{className:a.certificationActions,children:[e.jsxs("button",{className:`${a.actionBtn} ${a.editBtn}`,onClick:()=>Q(i),title:"Editar certificaciÃ³n",children:[e.jsx("i",{className:"fas fa-edit"}),"Editar"]}),e.jsxs("button",{className:`${a.actionBtn} ${a.deleteBtn}`,onClick:()=>Y(i._id||i.id||"",i.title),title:"Eliminar certificaciÃ³n",children:[e.jsx("i",{className:"fas fa-trash"}),"Eliminar"]})]})]},i._id||i.id))})}),N&&e.jsx("div",{className:a.formModalOverlay,children:e.jsxs("div",{className:a.formModal,children:[e.jsxs("div",{className:a.formHeader,children:[e.jsxs("h3",{children:[e.jsx("i",{className:"fas fa-certificate"}),p?"âœï¸ Editar CertificaciÃ³n":"âž• Nueva CertificaciÃ³n"]}),e.jsxs("div",{className:a.formHeaderActions,children:[N&&!p&&e.jsxs("button",{type:"button",className:a.demoCrudBtn,onClick:R,title:"Cargar datos de ejemplo",children:[e.jsx("i",{className:"fas fa-magic"}),"Demo"]}),e.jsx("button",{className:a.closeBtn,onClick:F,children:e.jsx("i",{className:"fas fa-times"})})]})]}),e.jsxs("form",{onSubmit:B,className:a.certificationForm,children:[e.jsxs("div",{className:a.formRow,children:[e.jsxs("div",{className:a.formGroup,children:[e.jsxs("label",{htmlFor:"title",children:[e.jsx("i",{className:"fas fa-certificate"}),"TÃ­tulo *"]}),e.jsx("input",{type:"text",id:"title",name:"title",value:t.title,onChange:L,className:a.modernInput,required:!0,placeholder:"Ej: AWS Solutions Architect"})]}),e.jsxs("div",{className:a.formGroup,children:[e.jsxs("label",{htmlFor:"issuer",children:[e.jsx("i",{className:"fas fa-building"}),"Emisor *"]}),e.jsx(Ae,{id:"issuer",name:"issuer",value:t.issuer,onChange:n,required:!0,placeholder:"Buscar o seleccionar emisor..."})]})," "]})," ",e.jsxs("div",{className:a.formRow,children:[e.jsxs("div",{className:a.formGroup,children:[e.jsxs("label",{htmlFor:"date",children:[e.jsx("i",{className:"fas fa-calendar-alt"}),"Fecha de emisiÃ³n *"]}),e.jsx("input",{type:"month",id:"date",name:"date",value:t.date,onChange:M,className:a.modernInput,required:!0})]}),e.jsxs("div",{className:a.formGroup,children:[e.jsxs("label",{htmlFor:"credential_id",children:[e.jsx("i",{className:"fas fa-id-card"}),"ID de credencial"]}),e.jsx(Pe,{value:t.credential_id,onChange:i=>{if(_(s=>({...s,credential_id:i})),o&&i.trim()){if(o.verifyBaseUrl){const s=$(o,i);s&&_(c=>({...c,verify_url:s}))}if(o.certificateImageUrl){const s=H(o,i);s&&_(c=>({...c,image_url:s}))}}else i.trim()||_(s=>({...s,verify_url:"",image_url:(o==null?void 0:o.logoUrl)||""}))},issuer:o,placeholder:"ID de credencial"})]})," "]}),o&&e.jsxs("div",{className:a.issuerPreview,children:[e.jsxs("div",{className:a.previewHeader,children:[e.jsx("i",{className:"fas fa-eye"}),e.jsx("span",{children:"Vista previa del emisor seleccionado"})]}),e.jsxs("div",{className:a.previewContent,children:[e.jsx("div",{className:a.previewLogo,children:e.jsx("img",{src:o.logoUrl,alt:`${o.name} logo`,onError:i=>{const s=i.target;s.style.display="none";const c=s.parentElement;if(c&&!c.querySelector(".logo-fallback")){const x=document.createElement("div");x.className="logo-fallback",x.innerHTML='<i class="fas fa-certificate"></i>',x.style.cssText=`
                                  display: flex;
                                  align-items: center;
                                  justify-content: center;
                                  width: 100%;
                                  height: 100%;
                                  color: var(--md-sys-color-on-surface-variant);
                                  font-size: 1.5rem;
                                  opacity: 0.7;
                                `,c.appendChild(x)}}})}),e.jsxs("div",{className:a.previewInfo,children:[e.jsx("div",{className:a.previewName,children:o.name}),o.description&&e.jsx("div",{className:a.previewDescription,children:o.description}),e.jsxs("div",{className:a.previewDetails,children:[e.jsxs("span",{className:a.previewCategory,children:[e.jsx("i",{className:"fas fa-tag"}),o.category]}),o.verifyBaseUrl&&e.jsxs("span",{className:a.previewVerify,children:[e.jsx("i",{className:"fas fa-check-circle"}),"VerificaciÃ³n automÃ¡tica disponible"]}),o.certificateImageUrl&&e.jsxs("span",{className:a.previewVerify,style:{background:"var(--md-sys-color-success-container)",color:"var(--md-sys-color-on-success-container)"},children:[e.jsx("i",{className:"fas fa-certificate"}),"Imagen de certificado"]})]})]})]})]}),e.jsx("div",{className:a.formRow,children:e.jsxs("div",{className:a.formGroup,children:[e.jsx("label",{htmlFor:"order_index",children:"Orden"}),e.jsx("input",{type:"number",id:"order_index",name:"order_index",value:t.order_index,onChange:L,min:"0"})]})}),e.jsxs("div",{className:a.formActions,children:[e.jsx("button",{type:"button",className:a.btnSecondary,onClick:F,disabled:h,children:"Cancelar"}),e.jsx("button",{type:"submit",className:a.btnPrimary,disabled:h,children:h?e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"fas fa-spinner fa-spin"}),"Guardando..."]}):e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"fas fa-save"}),p?"Guardar Cambios":"Crear CertificaciÃ³n"]})})]})]})]})})]})})})},Gi="_certificationsGrid_111at_131",Hi="_certificationCard_111at_148",Zi="_certImage_111at_240",Ri="_certContent_111at_310",Pi="_certTitle_111at_319",Vi="_certIssuer_111at_335",Oi="_certDetails_111at_363",Wi="_certDate_111at_372",Qi="_certId_111at_373",Yi="_certActions_111at_419",qi="_certVerifyBtn_111at_435",Xi="_disabled_111at_514",Ji="_certBadge_111at_561",Ki="_loadingState_111at_609",ea="_loadingSpinner_111at_617",ia="_emptyState_111at_643",aa="_emptyIcon_111at_674",sa="_emptyTitle_111at_703",ta="_emptyDescription_111at_713",g={certificationsGrid:Gi,certificationCard:Hi,certImage:Zi,certContent:Ri,certTitle:Pi,certIssuer:Vi,certDetails:Oi,certDate:Wi,certId:Qi,certActions:Yi,certVerifyBtn:qi,disabled:Xi,certBadge:Ji,loadingState:Ki,loadingSpinner:ea,emptyState:ia,emptyIcon:aa,emptyTitle:sa,emptyDescription:ta},oa=({isAdminMode:u=!1,showAdminFAB:m=!1})=>{const[r,S]=f.useState([]),[j,N]=f.useState(!0),[w,p]=f.useState(!1),{showError:C}=O(),h=async()=>{try{N(!0),console.log("Iniciando carga de certificaciones...");const d=await W();console.log("Datos recibidos de la API:",d);const v=d.map(t=>({id:t._id||t.id||"",title:t.title,issuer:t.issuer,date:t.date,credentialId:t.credential_id,image:t.image_url||"/assets/images/foto-perfil.jpg",verifyUrl:t.verify_url}));console.log("Datos mapeados:",v),S(v)}catch(d){console.error("Error cargando certificaciones:",d),C("Error","No se pudieron cargar las certificaciones")}finally{N(!1)}};f.useEffect(()=>{h()},[]);const I=()=>{p(!1),h()};return e.jsxs("div",{className:"section-cv",id:"certifications",children:[e.jsx(ie,{icon:"fas fa-certificate",title:"Certificaciones",subtitle:"Credenciales y certificaciones profesionales obtenidas",className:"certifications"}),e.jsxs("div",{className:"section-container",children:[j?e.jsx("div",{className:g.loadingState,children:e.jsxs("div",{className:g.loadingSpinner,children:[e.jsx("i",{className:"fas fa-spinner fa-spin"}),e.jsx("p",{children:"Cargando certificaciones..."})]})}):e.jsxs("div",{className:g.sectionContainer,children:[e.jsx("div",{className:g.certificationsGrid,children:r.map((d,v)=>e.jsxs("div",{className:g.certificationCard,style:{animationDelay:`${v*.1}s`},children:[e.jsx("div",{className:g.certImage,children:e.jsx("img",{src:d.image,alt:d.title,onError:t=>{t.target.src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjQiIGhlaWdodD0iNjQiIHZpZXdCb3g9IjAgMCA2NCA2NCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjY0IiBoZWlnaHQ9IjY0IiBmaWxsPSIjRjVGNUY1Ii8+CjxwYXRoIGQ9Ik0zMiAyMEwyNiAyNkgzOEwzMiAyMFoiIGZpbGw9IiM5Q0E0QUYiLz4KPHBhdGggZD0iTTQ0IDM4SDIwVjQySDQ0VjM4WiIgZmlsbD0iIzlDQTRBRiIvPgo8L3N2Zz4K"}})}),e.jsxs("div",{className:g.certContent,children:[e.jsx("h3",{className:g.certTitle,children:d.title}),e.jsx("p",{className:g.certIssuer,children:d.issuer}),e.jsxs("div",{className:g.certDetails,children:[e.jsxs("div",{className:g.certDate,children:[e.jsx("i",{className:"fas fa-calendar-alt"}),e.jsx("span",{children:d.date})]}),d.credentialId&&e.jsxs("div",{className:g.certId,children:[e.jsx("i",{className:"fas fa-id-badge"}),e.jsxs("span",{children:["ID: ",d.credentialId]})]})]}),e.jsx("div",{className:g.certActions,children:d.verifyUrl?e.jsxs("a",{href:d.verifyUrl,target:"_blank",rel:"noopener noreferrer",className:g.certVerifyBtn,title:"Verificar certificaciÃ³n",children:[e.jsx("i",{className:"fas fa-check-circle"}),e.jsx("span",{children:"Verificar"})]}):e.jsxs("button",{className:`${g.certVerifyBtn} ${g.disabled}`,title:"VerificaciÃ³n no disponible",disabled:!0,children:[e.jsx("i",{className:"fas fa-check-circle"}),e.jsx("span",{children:"Verificar"})]})})]}),e.jsx("div",{className:g.certBadge,children:e.jsx("i",{className:"fas fa-award"})})]},`cert-${d.id}`))}),r.length===0&&e.jsxs("div",{className:g.emptyState,children:[e.jsx("div",{className:g.emptyIcon,children:e.jsx("i",{className:"fas fa-certificate"})}),e.jsx("h3",{className:g.emptyTitle,children:"No hay certificaciones disponibles"}),e.jsx("p",{className:g.emptyDescription,children:"Las certificaciones aparecerÃ¡n aquÃ­ cuando estÃ©n disponibles."})]})]}),!u&&m&&e.jsx(ae,{actions:[{id:"admin-certifications",onClick:()=>{p(!0)},icon:"fas fa-shield-alt",label:"Administrar Certificaciones",color:"primary"}],position:"bottom-right"})]}),w&&e.jsx(Ti,{onClose:I})]})};export{oa as default};
