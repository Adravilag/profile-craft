import{r as p,j as e,M as he,c as de,g as oe,d as ce,F as pe,e as fe,f as be,h as xe,i as ge,k as ve,l as je}from"./index-ej5JCfyQ.js";import{H as Ne}from"./HeaderSection-Cmr8ff3m.js";const ye="_pageContainer_4230v_8",Ee="_pageHeader_4230v_18",Ce="_subtitulo_4230v_37",Se="_filtersPanel_4230v_45",Ie="_filterButton_4230v_56",$e="_active_4230v_75",Fe="_filtersCount_4230v_80",we="_iconList_4230v_89",Te="_tableContainer_4230v_96",Ae="_table_4230v_96",ke="_imagen_4230v_151",Me="_titulo_4230v_166",Be="_tipo_4230v_192",Le="_estado_4230v_199",Oe="_fechas_4230v_206",Pe="_sinFecha_4230v_213",De="_visitas_4230v_219",ze="_iconEye_4230v_232",He="_tecnologias_4230v_239",Re="_badgeTec_4230v_252",Ge="_acciones_4230v_268",Ve="_buttonIcon_4230v_274",Je="_badgeProyecto_4230v_302",We="_badgeArticulo_4230v_318",qe="_badgeCompletado_4230v_334",Ye="_badgeEnCurso_4230v_349",Ke="_badgePendiente_4230v_364",Ue="_badgePublicado_4230v_379",Ze="_badgeBorrador_4230v_394",Qe="_adminModalOverlay_4230v_423",Xe="_adminOverlayFadeIn_4230v_1",ea="_adminModal_4230v_423",aa="_adminModalSlideIn_4230v_1",sa="_adminModalHeader_4230v_480",ta="_adminModalCloseBtn_4230v_519",na="_adminModalTabs_4230v_563",ia="_gradientShift_4230v_1",ra="_adminTabBtn_4230v_607",oa="_disabled_4230v_632",ca="_tabIndicator_4230v_1",la="_tabBadge_4230v_710",da="_badgePulse_4230v_1",ma="_adminModalContent_4230v_764",_a="_adminLoading_4230v_793",ua="_adminLoadingSpin_4230v_1",ha="_adminEmpty_4230v_830",pa="_adminBtnPrimary_4230v_870",fa="_adminBtnSecondary_4230v_871",ba="_adminBtnDanger_4230v_872",xa="_adminForm_4230v_993",ga="_adminFormRow_4230v_1004",va="_adminFormGroup_4230v_1011",ja="_fullWidth_4230v_1018",Na="_error_4230v_1115",ya="_success_4230v_1122",Ea="_adminFormErrorMessage_4230v_1129",Ca="_adminFormHelpText_4230v_1146",Sa="_adminFormActions_4230v_1156",Ia="_floating_4230v_1172",$a="_adminItemsList_4230v_1226",Fa="_singleColumn_4230v_1234",wa="_adminItemCard_4230v_1246",Ta="_adminCardRow_4230v_1265",Aa="_adminItemHeader_4230v_1281",ka="_adminItemImage_4230v_1288",Ma="_testimonialAvatar_4230v_1304",Ba="_adminItemInfo_4230v_1308",La="_adminItemSubtitle_4230v_1324",Oa="_adminItemContact_4230v_1332",Pa="_adminItemContent_4230v_1360",Da="_testimonialText_4230v_1365",za="_statusBadge_4230v_1389",Ha="_adminItemDate_4230v_1405",Ra="_adminCertMetadata_4230v_1419",Ga="_adminItemCredential_4230v_1427",Va="_adminItemActions_4230v_1455",Ja="_adminFabContainer_4230v_1507",Wa="_fabPrimary_4230v_1578",qa="_visible_4230v_1587",Ya="_adminFab_4230v_1507",Ka="_showOnHover_4230v_1604",Ua="_adminFabScaleIn_4230v_1",Za="_fabNew_4230v_1714",Qa="_fabNewPulse_4230v_1",Xa="_loading_4230v_1764",es="_fabSpinner_4230v_1768",as="_fabSpin_4230v_1768",ss="_fabTooltip_4230v_1783",ts="_adminFormHeader_4230v_1862",ns="_adminBtnBack_4230v_1868",is="_closing_4230v_1920",rs="_adminOverlayFadeOut_4230v_1",os="_adminModalSlideOut_4230v_1",cs="_progressBar_4230v_1943",ls="_progressFill_4230v_1954",ds="_progressShimmer_4230v_1",ms="_headerContent_4230v_1986",_s="_headerMain_4230v_1994",us="_modalTitle_4230v_1999",hs="_modalSubtitle_4230v_2010",ps="_headerActions_4230v_2017",fs="_headerActionBtn_4230v_2024",bs="_headerSearch_4230v_2064",xs="_focused_4230v_2077",gs="_searchInput_4230v_2089",vs="_clearSearchBtn_4230v_2103",js="_headerSpinner_4230v_2119",Ns="_spin_4230v_1",ys="_loadingState_4230v_2133",Es="_loadingSpinner_4230v_2142",Cs="_notifications_4230v_2157",Ss="_errorNotification_4230v_2164",Is="_successNotification_4230v_2165",$s="_notificationSlideIn_4230v_1",Fs="_toolbarLeft_4230v_2221",ws="_toolbarRight_4230v_2222",Ts="_adminActionBtn_4230v_2233",As="_buttonSpinner_4230v_2303",ks="_sizeGestion_4230v_2377",Ms="_loadingContainer_4230v_2430",Bs="_emptyState_4230v_2451",Ls="_techContainer_4230v_2479",Os="_adminModalToolbar_4230v_2649",Ps="_toolbarActions_4230v_2659",Ds="_actionButtonsGroup_4230v_2663",zs="_adminNewBtn_4230v_2687",Hs="_adminBreadcrumb_4230v_2694",Rs="_breadcrumbList_4230v_2701",Gs="_breadcrumbItem_4230v_2711",Vs="_breadcrumbSeparator_4230v_2723",Js="_breadcrumbLink_4230v_2730",Ws="_breadcrumbText_4230v_2756",_={pageContainer:ye,pageHeader:Ee,subtitulo:Ce,filtersPanel:Se,filterButton:Ie,active:$e,filtersCount:Fe,iconList:we,tableContainer:Te,table:Ae,imagen:ke,titulo:Me,tipo:Be,estado:Le,fechas:Oe,sinFecha:Pe,visitas:De,iconEye:ze,tecnologias:He,badgeTec:Re,acciones:Ge,buttonIcon:Ve,badgeProyecto:Je,badgeArticulo:We,badgeCompletado:qe,badgeEnCurso:Ye,badgePendiente:Ke,badgePublicado:Ue,badgeBorrador:Ze,adminModalOverlay:Qe,adminOverlayFadeIn:Xe,adminModal:ea,adminModalSlideIn:aa,adminModalHeader:sa,adminModalCloseBtn:ta,adminModalTabs:na,gradientShift:ia,adminTabBtn:ra,disabled:oa,tabIndicator:ca,tabBadge:la,badgePulse:da,adminModalContent:ma,adminLoading:_a,adminLoadingSpin:ua,adminEmpty:ha,adminBtnPrimary:pa,adminBtnSecondary:fa,adminBtnDanger:ba,adminForm:xa,adminFormRow:ga,adminFormGroup:va,fullWidth:ja,error:Na,success:ya,adminFormErrorMessage:Ea,adminFormHelpText:Ca,adminFormActions:Sa,floating:Ia,adminItemsList:$a,singleColumn:Fa,adminItemCard:wa,adminCardRow:Ta,adminItemHeader:Aa,adminItemImage:ka,testimonialAvatar:Ma,adminItemInfo:Ba,adminItemSubtitle:La,adminItemContact:Oa,adminItemContent:Pa,testimonialText:Da,statusBadge:za,adminItemDate:Ha,adminCertMetadata:Ra,adminItemCredential:Ga,adminItemActions:Va,adminFabContainer:Ja,"fab-bottom-right":"_fab-bottom-right_4230v_1522","fab-bottom-left":"_fab-bottom-left_4230v_1527","fab-top-right":"_fab-top-right_4230v_1532","fab-top-left":"_fab-top-left_4230v_1537",fabPrimary:Wa,visible:qa,adminFab:Ya,showOnHover:Ka,adminFabScaleIn:Ua,"fab-primary":"_fab-primary_4230v_1673","fab-secondary":"_fab-secondary_4230v_1677","fab-danger":"_fab-danger_4230v_1681","fab-success":"_fab-success_4230v_1697",fabNew:Za,fabNewPulse:Qa,loading:Xa,fabSpinner:es,fabSpin:as,fabTooltip:ss,adminFormHeader:ts,adminBtnBack:ns,"size-small":"_size-small_4230v_1893","size-medium":"_size-medium_4230v_1899","size-large":"_size-large_4230v_1905","size-fullscreen":"_size-fullscreen_4230v_1911",closing:is,adminOverlayFadeOut:rs,adminModalSlideOut:os,progressBar:cs,progressFill:ls,progressShimmer:ds,headerContent:ms,headerMain:_s,modalTitle:us,modalSubtitle:hs,headerActions:ps,headerActionBtn:fs,headerSearch:bs,focused:xs,searchInput:gs,clearSearchBtn:vs,headerSpinner:js,spin:Ns,loadingState:ys,loadingSpinner:Es,notifications:Cs,errorNotification:Ss,successNotification:Is,notificationSlideIn:$s,toolbarLeft:Fs,toolbarRight:ws,adminActionBtn:Ts,"variant-primary":"_variant-primary_4230v_2252","variant-secondary":"_variant-secondary_4230v_2257","variant-danger":"_variant-danger_4230v_2262","variant-success":"_variant-success_4230v_2267",buttonSpinner:As,sizeGestion:ks,loadingContainer:Ms,emptyState:Bs,techContainer:Ls,adminModalToolbar:Os,toolbarActions:Ps,actionButtonsGroup:Ds,adminNewBtn:zs,adminBreadcrumb:Hs,breadcrumbList:Rs,breadcrumbItem:Gs,breadcrumbSeparator:Vs,breadcrumbLink:Js,breadcrumbText:Ws},qs=({isOpen:s,onClose:g,title:u,subtitle:d,icon:y,tabs:l=[],activeTab:x,onTabChange:f,children:o,floatingActions:v=[],maxWidth:m,height:D,showTabs:E=!0,loading:z=!1,error:$,success:L,onRefresh:A,showRefresh:W=!1,size:I="large",preventClose:k=!1,showProgress:q=!1,progress:S=0,onKeyboardShortcut:C,showSearch:w=!1,searchValue:H="",onSearchChange:O,searchPlaceholder:V="Buscar...",fabPosition:P="bottom-right",showFabOnHover:K=!1,showBreadcrumb:U=!1,breadcrumbItems:R=[]})=>{const[G,ee]=p.useState(!1),[Z,Q]=p.useState(!1),Y={small:{maxWidth:"600px",height:"60vh"},medium:{maxWidth:"900px",height:"75vh"},large:{maxWidth:"1300px",height:"88vh"},fullscreen:{maxWidth:"100vw",height:"100vh"}},j={maxWidth:m||Y[I].maxWidth,height:D||Y[I].height};p.useEffect(()=>{if(!s)return;const i=N=>{if(N.key==="Escape"&&!k&&X(),N.ctrlKey&&N.key==="r"&&A&&(N.preventDefault(),A()),N.altKey&&l.length>0&&f){const J=parseInt(N.key);if(J>=1&&J<=l.length){N.preventDefault();const M=l[J-1];M.disabled||f(M.id)}}C&&C(N.key)};return document.addEventListener("keydown",i),()=>document.removeEventListener("keydown",i)},[s,k,A,l,f,C]);const X=p.useCallback(()=>{k||(ee(!0),setTimeout(()=>{g(),ee(!1)},200))},[g,k]),r=i=>{i.target===i.currentTarget&&!k&&X()},h=()=>{if(!l.length||!x)return o;const i=l.find(N=>N.id===x);return(i==null?void 0:i.content)||o},F=()=>!U||!R.length?null:e.jsx("div",{className:_.adminBreadcrumb,children:e.jsx("nav",{"aria-label":"Breadcrumb",children:e.jsx("ol",{className:_.breadcrumbList,children:R.map((i,N)=>e.jsxs("li",{className:`${_.breadcrumbItem} ${i.active?_.active:""}`,children:[N>0&&e.jsx("span",{className:_.breadcrumbSeparator,children:"‚Ä∫"}),i.onClick?e.jsxs("button",{onClick:i.onClick,className:_.breadcrumbLink,"aria-current":i.active?"page":void 0,children:[i.icon&&e.jsx("i",{className:i.icon}),e.jsx("span",{children:i.label})]}):e.jsxs("span",{className:_.breadcrumbText,children:[i.icon&&e.jsx("i",{className:i.icon}),e.jsx("span",{children:i.label})]})]},i.id))})})});return s?e.jsx(he,{children:e.jsx("div",{className:`${_.adminModalOverlay} ${G?_.closing:""}`,onClick:r,children:e.jsxs("div",{className:`${_.adminModal} ${_[`size-${I}`]} ${z?_.loading:""}`,style:j,children:[q&&e.jsx("div",{className:_.progressBar,children:e.jsx("div",{className:_.progressFill,style:{width:`${Math.min(100,Math.max(0,S))}%`}})}),e.jsxs("div",{className:_.adminModalHeader,children:[e.jsxs("div",{className:_.headerContent,children:[e.jsxs("div",{className:_.headerMain,children:[e.jsxs("h2",{className:_.modalTitle,children:[e.jsx("i",{className:y}),e.jsx("span",{children:u}),z&&e.jsx("div",{className:_.headerSpinner})]}),d&&e.jsx("p",{className:_.modalSubtitle,children:d})]}),e.jsxs("div",{className:_.headerActions,children:[W&&A&&e.jsx("button",{className:_.headerActionBtn,onClick:A,title:"Refrescar (Ctrl+R)","aria-label":"Refrescar contenido",children:e.jsx("i",{className:"fas fa-sync-alt"})}),w&&e.jsxs("div",{className:`${_.headerSearch} ${Z?_.focused:""}`,children:[e.jsx("i",{className:"fas fa-search"}),e.jsx("input",{type:"text",placeholder:V,value:H,onChange:i=>O==null?void 0:O(i.target.value),onFocus:()=>Q(!0),onBlur:()=>Q(!1),className:_.searchInput}),H&&e.jsx("button",{onClick:()=>O==null?void 0:O(""),className:_.clearSearchBtn,"aria-label":"Limpiar b√∫squeda",children:e.jsx("i",{className:"fas fa-times"})})]}),e.jsx("button",{className:_.adminModalCloseBtn,onClick:X,disabled:k,title:k?"No se puede cerrar en este momento":"Cerrar (Esc)","aria-label":"Cerrar modal",children:e.jsx("i",{className:"fas fa-times"})})]})]}),($||L)&&e.jsxs("div",{className:_.notifications,children:[$&&e.jsxs("div",{className:_.errorNotification,children:[e.jsx("i",{className:"fas fa-exclamation-triangle"}),e.jsx("span",{children:$})]}),L&&e.jsxs("div",{className:_.successNotification,children:[e.jsx("i",{className:"fas fa-check-circle"}),e.jsx("span",{children:L})]})]})]}),F(),E&&l.length>0&&e.jsx("div",{className:_.adminModalTabs,children:l.map((i,N)=>e.jsxs("button",{className:`${_.adminTabBtn} ${x===i.id?_.active:""} ${i.disabled?_.disabled:""}`,onClick:()=>!i.disabled&&(f==null?void 0:f(i.id)),disabled:i.disabled,title:i.tooltip||`${i.label} (Alt+${N+1})`,"aria-label":`Tab ${i.label}`,children:[e.jsx("i",{className:i.icon}),e.jsx("span",{children:i.label}),i.badge&&e.jsx("span",{className:_.tabBadge,children:i.badge})]},i.id))}),"          ",e.jsx("div",{className:_.adminModalContent,children:z&&!o?e.jsxs("div",{className:_.loadingState,children:[e.jsx("div",{className:_.loadingSpinner}),e.jsx("p",{children:"Cargando..."})]}):h()}),v.length>0&&e.jsx("div",{className:`${_.adminFabContainer} ${_[`fab-${P}`]} ${K?_.showOnHover:""}`,children:v.map((i,N)=>e.jsxs("button",{className:`${_.adminFab} ${_[`fab-${i.variant||"primary"}`]} ${i.disabled?_.disabled:""} ${i.loading?_.loading:""}`,onClick:i.onClick,disabled:i.disabled||i.loading,title:i.tooltip||i.label,"aria-label":i.label,style:{animationDelay:`${N*.1}s`,zIndex:1e3-N},children:[i.loading?e.jsx("div",{className:_.fabSpinner}):e.jsx("i",{className:i.icon}),"                  ",e.jsx("span",{className:_.fabTooltip,children:i.label})]},i.id))})]})})}):null},Ys=()=>{const s=p.useRef(null);return p.useEffect(()=>{const g=new IntersectionObserver(u=>{u.forEach(d=>{d.isIntersecting&&(d.target.classList.add("visible"),g.unobserve(d.target))})},{threshold:.1,rootMargin:"50px 0px -50px 0px"});return s.current&&s.current.querySelectorAll(".timeline-item, .chronological-item").forEach(d=>g.observe(d)),()=>{s.current&&s.current.querySelectorAll(".timeline-item, .chronological-item").forEach(d=>g.unobserve(d))}},[]),s},se=(s,g)=>{const u=ne(s);if(!g||g.trim()==="")return`${u} - Presente`;const d=ne(g);return!d||d.toLowerCase()==="presente"?`${u} - Presente`:`${u} - ${d}`},ie=(s,g)=>{const u=m=>{if(!m)return 0;const D=m.toLowerCase();if(D==="presente"||D==="current"){const S=new Date;return S.getFullYear()*12+S.getMonth()}if(/^\d{4}$/.test(m))return parseInt(m)*12;if(/^\d{4}-\d{2}$/.test(m)){const[S,C]=m.split("-"),w=parseInt(S),H=parseInt(C)-1;return w*12+H}if(/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}(\.\d{3})?Z?$/.test(m)){const S=new Date(m);if(!isNaN(S.getTime())){const C=S.getFullYear(),w=S.getMonth();return C*12+w}}const E=["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"],z=["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],$=m.match(/^(\w+)\s+del\s+(\d{4})$/i);if($){const S=$[1].toLowerCase(),C=parseInt($[2]),w=E.indexOf(S);if(w!==-1&&!isNaN(C))return C*12+w}const L=m.match(/^\d+\s+de\s+(\w+)\s+del\s+(\d{4})$/i);if(L){const S=L[1].toLowerCase(),C=parseInt(L[2]),w=E.indexOf(S);if(w!==-1&&!isNaN(C))return C*12+w}const[A,W]=m.split(" ");let I=z.indexOf(A);I===-1&&(I=E.indexOf(A.toLowerCase()));const k=parseInt(W);if(I!==-1&&!isNaN(k))return k*12+I;const q=parseInt(m);return isNaN(q)?0:q*12},d=u(s),l=u(g)-d;if(l<0)return"Duraci√≥n inv√°lida";if(l===0)return"Menos de 1 mes";if(l<12)return l===1?"1 mes":`${l} meses`;const x=Math.floor(l/12),f=l%12;if(f===0)return x===1?"1 a√±o":`${x} a√±os`;const o=x===1?"1 a√±o":`${x} a√±os`,v=f===1?"1 mes":`${f} meses`;return`${o} y ${v}`},ne=s=>{if(!s||s.trim()==="")return"";const g=s.toLowerCase();if(g==="presente"||g==="current")return"Presente";const u=["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"];if(s.includes("T")){const l=new Date(s);if(!isNaN(l.getTime())){const x=l.getMonth(),f=l.getFullYear();if(x>=0&&x<12)return`${u[x]} del ${f}`}}if(/^\d{4}-\d{2}$/.test(s)){const[l,x]=s.split("-"),f=parseInt(l),o=parseInt(x)-1;if(o>=0&&o<12)return`${u[o]} del ${f}`}if(/^\d{4}-\d{2}-\d{2}$/.test(s)){const[l,x]=s.split("-"),f=parseInt(l),o=parseInt(x)-1;if(o>=0&&o<12)return`${u[o]} del ${f}`}const d=new Date(s);if(!isNaN(d.getTime())){const l=d.getMonth(),x=d.getFullYear();if(l>=0&&l<12)return`${u[l]} del ${x}`}const y=s.match(/^(Enero|Febrero|Marzo|Abril|Mayo|Junio|Julio|Agosto|Septiembre|Octubre|Noviembre|Diciembre)\s+(\d{4})$/i);if(y){const l=y[1],x=parseInt(y[2]);return`${l} del ${x}`}return s},le=s=>{if(!s)return"";const g=s.toLowerCase();if(g==="presente"||g==="current"||g==="actualmente")return"presente";const u=["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"],d=["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],y=s.match(/^(\w+)\s+del\s+(\d{4})$/i);if(y){const f=y[1],o=parseInt(y[2]);let v=d.indexOf(f);if(v===-1&&(v=u.indexOf(f.toLowerCase())),v!==-1)return`${o}-${String(v+1).padStart(2,"0")}`}const l=s.match(/^(\d+)\s+de\s+(\w+)\s+del\s+(\d{4})$/i);if(l){const f=parseInt(l[1]),o=l[2].toLowerCase(),v=parseInt(l[3]),m=u.indexOf(o);if(m!==-1&&f>=1&&f<=31)return f===1?`${v}-${String(m+1).padStart(2,"0")}`:`${v}-${String(m+1).padStart(2,"0")}-${String(f).padStart(2,"0")}`}const x=s.match(/^(\w+)\s+(\d{4})$/i);if(x){const f=x[1],o=parseInt(x[2]);let v=d.indexOf(f);if(v===-1&&(v=u.indexOf(f.toLowerCase())),v!==-1)return`${o}-${String(v+1).padStart(2,"0")}`}if(/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}(\.\d{3})?Z?$/.test(s)){const f=new Date(s);if(!isNaN(f.getTime())){const o=f.getFullYear(),v=String(f.getMonth()+1).padStart(2,"0"),m=String(f.getDate()).padStart(2,"0");return f.getDate()===1?`${o}-${v}`:`${o}-${v}-${m}`}}return/^\d{4}-\d{2}(-\d{2})?$/.test(s),s},Ks=({experience:s,index:g,animationDelay:u=.1,showDuration:d=!0})=>e.jsxs("div",{className:"timeline-item",style:{animationDelay:`${g*u}s`},children:[e.jsx("div",{className:"timeline-marker",children:e.jsx("div",{className:"marker-dot"})}),e.jsxs("div",{className:"timeline-content",children:[e.jsxs("div",{className:"timeline-header",children:[e.jsx("h4",{className:"timeline-title",children:s.position}),e.jsxs("div",{className:"timeline-period",children:[e.jsx("i",{className:"fas fa-calendar-alt"}),e.jsx("span",{children:se(s.start_date,s.end_date)})]})]}),e.jsxs("p",{className:"timeline-company",children:[e.jsx("i",{className:"fas fa-building"}),s.company]}),d&&e.jsxs("div",{className:"timeline-duration",children:[e.jsx("i",{className:"fas fa-clock"}),e.jsx("span",{children:ie(s.start_date,s.end_date)})]}),e.jsx("p",{className:"timeline-description",children:s.description}),s.technologies&&s.technologies.length>0&&e.jsxs("div",{className:"timeline-skills",children:[e.jsxs("div",{className:"skills-label",children:[e.jsx("i",{className:"fas fa-tools"}),e.jsx("span",{children:"Tecnolog√≠as:"})]}),e.jsx("div",{className:"skills-tags",children:s.technologies.map((y,l)=>e.jsx("span",{className:"timeline-skill",children:y},l))})]}),s.end_date&&s.end_date.toLowerCase()==="presente"&&e.jsxs("div",{className:"current-position-badge",children:[e.jsx("i",{className:"fas fa-star"}),e.jsx("span",{children:"Posici√≥n Actual"})]})]})]}),Us=({education:s,index:g,animationDelay:u=.1,showDuration:d=!0})=>e.jsxs("div",{className:"timeline-item education-item",style:{animationDelay:`${g*u}s`},children:[e.jsx("div",{className:"timeline-marker education-marker",children:e.jsx("div",{className:"marker-dot"})}),e.jsxs("div",{className:"timeline-content",children:[e.jsxs("div",{className:"timeline-header",children:[e.jsx("h4",{className:"timeline-title",children:s.title}),e.jsxs("div",{className:"timeline-period",children:[e.jsx("i",{className:"fas fa-calendar-alt"}),e.jsx("span",{children:se(s.start_date,s.end_date)})]})]}),e.jsxs("p",{className:"timeline-company",children:[e.jsx("i",{className:"fas fa-university"}),s.institution]}),d&&e.jsxs("div",{className:"timeline-duration",children:[e.jsx("i",{className:"fas fa-clock"}),e.jsx("span",{children:ie(s.start_date,s.end_date)})]}),s.description&&e.jsx("p",{className:"timeline-description",children:s.description}),s.grade&&e.jsxs("div",{className:"education-grade",children:[e.jsx("i",{className:"fas fa-medal"}),e.jsxs("span",{children:["Calificaci√≥n: ",s.grade]})]})]})]}),Zs=({item:s,index:g,position:u,animationDelay:d=.15})=>e.jsxs("div",{className:`chronological-item ${s.type} ${u}`,style:{animationDelay:`${g*d}s`},children:[e.jsxs("div",{className:"chronological-marker",children:[e.jsx("div",{className:`marker-dot ${s.type}`,children:e.jsx("i",{className:s.type==="experience"?"fas fa-briefcase":"fas fa-graduation-cap"})}),e.jsx("div",{className:"chronological-year-external",children:ne(s.end_date)||"Presente"})]}),e.jsxs("div",{className:"chronological-content",children:[e.jsx("div",{className:"chronological-header",children:e.jsx("div",{className:`chronological-type ${s.type}`,children:s.type==="experience"?"Experiencia":"Formaci√≥n"})}),e.jsx("h4",{className:"chronological-title",children:s.title}),e.jsxs("p",{className:"chronological-company",children:[e.jsx("i",{className:s.type==="experience"?"fas fa-building":"fas fa-university"}),s.type==="experience"?s.company:s.institution]}),e.jsxs("div",{className:"chronological-period",children:[e.jsx("i",{className:"fas fa-calendar-alt"}),e.jsx("span",{children:se(s.start_date,s.end_date)})]}),e.jsxs("div",{className:"chronological-duration",children:[e.jsx("i",{className:"fas fa-hourglass-half"}),e.jsx("span",{children:ie(s.start_date,s.end_date)})]}),e.jsx("p",{className:"chronological-description",children:s.description}),s.type==="experience"&&s.technologies&&s.technologies.length>0&&e.jsxs("div",{className:"chronological-skills",children:[e.jsxs("div",{className:"skills-label",children:[e.jsx("i",{className:"fas fa-tools"}),e.jsx("span",{children:"Tecnolog√≠as:"})]}),e.jsx("div",{className:"skills-tags",children:s.technologies.map((y,l)=>e.jsx("span",{className:"timeline-skill",children:y},l))})]}),s.type==="education"&&s.grade&&e.jsxs("div",{className:"education-grade",children:[e.jsx("i",{className:"fas fa-medal"}),e.jsxs("span",{children:["Calificaci√≥n: ",s.grade]})]})]})]}),Qs="_modalOverlay_11gbb_70",Xs="_modalContainer_11gbb_91",et="_modalHeader_11gbb_118",at="_headerTop_11gbb_127",st="_backButton_11gbb_134",tt="_modalTitle_11gbb_159",nt="_progressIndicator_11gbb_176",it="_progressBar_11gbb_183",rt="_progressFill_11gbb_192",ot="_progressText_11gbb_216",ct="_modalContent_11gbb_226",lt="_form_11gbb_232",dt="_formSection_11gbb_240",mt="_sectionTitle_11gbb_265",_t="_formGrid_11gbb_281",ut="_formField_11gbb_289",ht="_label_11gbb_295",pt="_input_11gbb_312",ft="_inputValid_11gbb_339",bt="_inputError_11gbb_344",xt="_inputDisabled_11gbb_349",gt="_textarea_11gbb_356",vt="_textareaError_11gbb_378",jt="_textareaContainer_11gbb_383",Nt="_characterCounter_11gbb_387",yt="_warning_11gbb_400",Et="_error_11gbb_406",Ct="_helperText_11gbb_413",St="_errorText_11gbb_419",It="_dateRangeContainer_11gbb_446",$t="_currentToggle_11gbb_453",Ft="_checkbox_11gbb_463",wt="_checkboxLabel_11gbb_470",Tt="_technologyContainer_11gbb_480",At="_technologyInput_11gbb_484",kt="_suggestions_11gbb_502",Mt="_suggestionItem_11gbb_517",Bt="_technologyChips_11gbb_537",Lt="_chip_11gbb_544",Ot="_chipRemove_11gbb_579",Pt="_stickyFooter_11gbb_602",Dt="_footerContent_11gbb_618",zt="_saveIndicator_11gbb_625",Ht="_actions_11gbb_634",Rt="_button_11gbb_640",Gt="_buttonPrimary_11gbb_661",Vt="_buttonSecondary_11gbb_673",Jt="_spinning_11gbb_710",Wt="_shortcuts_11gbb_720",t={modalOverlay:Qs,modalContainer:Xs,modalHeader:et,headerTop:at,backButton:st,modalTitle:tt,progressIndicator:nt,progressBar:it,progressFill:rt,progressText:ot,modalContent:ct,form:lt,formSection:dt,sectionTitle:mt,formGrid:_t,formField:ut,label:ht,input:pt,inputValid:ft,inputError:bt,inputDisabled:xt,textarea:gt,textareaError:vt,textareaContainer:jt,characterCounter:Nt,warning:yt,error:Et,helperText:Ct,errorText:St,dateRangeContainer:It,currentToggle:$t,checkbox:Ft,checkboxLabel:wt,technologyContainer:Tt,technologyInput:At,suggestions:kt,suggestionItem:Mt,technologyChips:Bt,chip:Lt,chipRemove:Ot,stickyFooter:Pt,footerContent:Dt,saveIndicator:zt,actions:Ht,button:Rt,buttonPrimary:Gt,buttonSecondary:Vt,spinning:Jt,shortcuts:Wt},qt=["React","Vue.js","Angular","JavaScript","TypeScript","Node.js","Express.js","Python","Django","Flask","Java","Spring Boot","C#",".NET","PHP","Laravel","HTML5","CSS3","SASS","SCSS","Tailwind CSS","Bootstrap","Material-UI","MongoDB","PostgreSQL","MySQL","Redis","Docker","Kubernetes","AWS","Azure","Git","GitHub","GitLab","Jenkins","Jest","Cypress","Webpack","Vite"],Yt=({isOpen:s,onClose:g,formType:u,initialData:d={},isEditing:y,onSubmit:l})=>{const{showError:x,showSuccess:f}=de(),[o,v]=p.useState({title:"",company:"",institution:"",start_date:"",end_date:"",description:"",technologies:"",grade:"",order_index:0,is_current:!1,...d}),[m,D]=p.useState({}),[E,z]=p.useState({}),[$,L]=p.useState(!1),[A,W]=p.useState(""),[I,k]=p.useState([]),[q,S]=p.useState(!1),[C,w]=p.useState(0),H=p.useRef(null),O=p.useRef(null);p.useEffect(()=>{const r=u==="experience"?["title","company","start_date"]:["title","institution","start_date"],h=r.filter(J=>{var M;return(M=o[J])==null?void 0:M.toString().trim()}).length,F=o.description?1:0,i=r.length+1,N=Math.round((h+F)/i*100);w(N)},[o,u]),p.useEffect(()=>{o.technologies&&k(o.technologies.split(",").map(r=>r.trim()).filter(Boolean))},[o.technologies]);const V=(r,h)=>{switch(r){case"title":if(!h.trim())return"El t√≠tulo es obligatorio";if(h.length<2)return"El t√≠tulo debe tener al menos 2 caracteres";break;case"company":case"institution":if(!h.trim())return`${u==="experience"?"La empresa":"La instituci√≥n"} es obligatoria`;if(h.length<2)return"Debe tener al menos 2 caracteres";break;case"start_date":if(!h)return"La fecha de inicio es obligatoria";break;case"end_date":if(!h&&!o.is_current)return"La fecha de fin es obligatoria";if(h&&o.start_date&&h<o.start_date)return"La fecha de fin debe ser posterior a la de inicio";break;case"description":if(h.length>500)return"La descripci√≥n no puede exceder 500 caracteres";break}return null},P=(r,h)=>{v(i=>({...i,[r]:h})),z(i=>({...i,[r]:!0}));const F=V(r,h);D(i=>{const N={...i};return F?N[r]=F:delete N[r],N})},K=()=>{const r=!o.is_current;v(h=>({...h,is_current:r,end_date:r?"":h.end_date})),r&&D(h=>{const F={...h};return delete F.end_date,F})},U=r=>{if(r.trim()&&!I.includes(r.trim())){const h=[...I,r.trim()];k(h),v(F=>({...F,technologies:h.join(", ")})),W(""),S(!1)}},R=r=>{const h=I.filter((F,i)=>i!==r);k(h),v(F=>({...F,technologies:h.join(", ")}))},G=r=>{W(r),S(r.length>0)},ee=r=>{r.key==="Enter"&&A.trim()&&(r.preventDefault(),U(A))},Z=()=>qt.filter(r=>r.toLowerCase().includes(A.toLowerCase())&&!I.includes(r)).slice(0,8),Q=()=>{const r={};if((u==="experience"?[{name:"title",value:o.title},{name:"company",value:o.company||""},{name:"start_date",value:o.start_date}]:[{name:"title",value:o.title},{name:"institution",value:o.institution||""},{name:"start_date",value:o.start_date}]).forEach(({name:i,value:N})=>{const J=V(i,N);J&&(r[i]=J)}),!o.is_current){const i=V("end_date",o.end_date);i&&(r.end_date=i)}const F=V("description",o.description);return F&&(r.description=F),D(r),Object.keys(r).length===0},Y=async r=>{if(r.preventDefault(),!Q()){x("Errores de Validaci√≥n","Por favor corrige los errores antes de continuar");return}L(!0);try{await l(o),f(`${u==="experience"?"Experiencia":"Educaci√≥n"} ${y?"Actualizada":"Creada"}`,`Se ha ${y?"actualizado":"creado"} "${o.title}" correctamente`),g()}catch(h){x("Error al Guardar",h instanceof Error?h.message:"Error desconocido")}finally{L(!1)}};if(p.useEffect(()=>{const r=h=>{s&&(h.key==="Escape"?g():h.ctrlKey&&h.key==="Enter"&&Y(h))};return document.addEventListener("keydown",r),()=>document.removeEventListener("keydown",r)},[s]),!s)return null;const j=u==="experience",X=y?`Editar ${j?"Experiencia":"Educaci√≥n"}`:`Nueva ${j?"Experiencia":"Educaci√≥n"}`;return e.jsx("div",{className:t.modalOverlay,children:e.jsxs("div",{className:t.modalContainer,children:[e.jsxs("div",{className:t.modalHeader,children:[e.jsxs("div",{className:t.headerTop,children:[e.jsx("button",{type:"button",className:t.backButton,onClick:g,"aria-label":"Cerrar formulario",children:e.jsx("i",{className:"fas fa-times"})}),e.jsxs("h2",{className:t.modalTitle,children:[e.jsx("i",{className:`fas ${j?"fa-briefcase":"fa-graduation-cap"}`}),X]})]}),e.jsxs("div",{className:t.progressIndicator,children:[e.jsx("div",{className:t.progressBar,children:e.jsx("div",{className:t.progressFill,style:{width:`${C}%`}})}),e.jsxs("span",{className:t.progressText,children:["Completado: ",C,"%"]})]})]}),e.jsx("div",{className:t.modalContent,children:e.jsxs("form",{ref:H,onSubmit:Y,className:t.form,children:[e.jsxs("div",{className:t.formSection,children:[e.jsxs("h3",{className:t.sectionTitle,children:[e.jsx("i",{className:"fas fa-info-circle"}),"Informaci√≥n B√°sica"]}),e.jsxs("div",{className:t.formGrid,children:[e.jsxs("div",{className:t.formField,children:[e.jsxs("label",{className:t.label,children:[e.jsx("i",{className:`fas ${j?"fa-briefcase":"fa-graduation-cap"}`}),j?"T√≠tulo del puesto":"T√≠tulo o grado"," *"]}),e.jsx("input",{type:"text",value:o.title,onChange:r=>P("title",r.target.value),className:`${t.input} ${E.title&&m.title?t.inputError:E.title&&!m.title?t.inputValid:""}`,placeholder:j?"Ej: Desarrollador Full Stack Senior":"Ej: Grado en Ingenier√≠a Inform√°tica"}),e.jsx("div",{className:t.helperText,children:j?"Especifica tu rol o cargo principal":"Indica el nombre completo del t√≠tulo"}),E.title&&m.title&&e.jsxs("div",{className:t.errorText,children:[e.jsx("i",{className:"fas fa-exclamation-triangle"}),m.title]})]}),e.jsxs("div",{className:t.formField,children:[e.jsxs("label",{className:t.label,children:[e.jsx("i",{className:`fas ${j?"fa-building":"fa-university"}`}),j?"Empresa":"Instituci√≥n"," *"]}),e.jsx("input",{type:"text",value:j?o.company||"":o.institution||"",onChange:r=>P(j?"company":"institution",r.target.value),className:`${t.input} ${E[j?"company":"institution"]&&m[j?"company":"institution"]?t.inputError:E[j?"company":"institution"]&&!m[j?"company":"institution"]?t.inputValid:""}`,placeholder:j?"Ej: TechCorp Solutions":"Ej: Universidad Tecnol√≥gica"}),e.jsx("div",{className:t.helperText,children:j?"Nombre de la empresa u organizaci√≥n":"Nombre de la universidad o centro educativo"}),E[j?"company":"institution"]&&m[j?"company":"institution"]&&e.jsxs("div",{className:t.errorText,children:[e.jsx("i",{className:"fas fa-exclamation-triangle"}),m[j?"company":"institution"]]})]})]})]}),e.jsxs("div",{className:t.formSection,children:[e.jsxs("h3",{className:t.sectionTitle,children:[e.jsx("i",{className:"fas fa-calendar-alt"}),"Per√≠odo de Tiempo"]}),e.jsxs("div",{className:t.dateRangeContainer,children:[e.jsxs("div",{className:t.formGrid,children:[e.jsxs("div",{className:t.formField,children:[e.jsxs("label",{className:t.label,children:[e.jsx("i",{className:"fas fa-play"}),"Fecha de inicio *"]}),e.jsx("input",{type:"month",value:o.start_date,onChange:r=>P("start_date",r.target.value),className:`${t.input} ${E.start_date&&m.start_date?t.inputError:E.start_date&&!m.start_date?t.inputValid:""}`}),E.start_date&&m.start_date&&e.jsxs("div",{className:t.errorText,children:[e.jsx("i",{className:"fas fa-exclamation-triangle"}),m.start_date]})]}),e.jsxs("div",{className:t.formField,children:[e.jsxs("label",{className:t.label,children:[e.jsx("i",{className:"fas fa-stop"}),"Fecha de fin ",!o.is_current&&"*"]}),e.jsx("input",{type:"month",value:o.end_date,onChange:r=>P("end_date",r.target.value),disabled:o.is_current,className:`${t.input} ${o.is_current?t.inputDisabled:E.end_date&&m.end_date?t.inputError:E.end_date&&!m.end_date?t.inputValid:""}`,placeholder:o.is_current?"Actualidad":""}),E.end_date&&m.end_date&&e.jsxs("div",{className:t.errorText,children:[e.jsx("i",{className:"fas fa-exclamation-triangle"}),m.end_date]})]})]}),e.jsxs("div",{className:t.currentToggle,children:[e.jsx("input",{type:"checkbox",id:"current-toggle",checked:o.is_current,onChange:K,className:t.checkbox}),e.jsx("label",{htmlFor:"current-toggle",className:t.checkboxLabel,children:j?"Trabajo actual":"Estudios en curso"})]})]})]}),j&&e.jsxs("div",{className:t.formSection,children:[e.jsxs("h3",{className:t.sectionTitle,children:[e.jsx("i",{className:"fas fa-code"}),"Tecnolog√≠as y Herramientas"]}),e.jsxs("div",{className:t.formField,children:[e.jsxs("label",{className:t.label,children:[e.jsx("i",{className:"fas fa-tools"}),"Tecnolog√≠as utilizadas"]}),e.jsxs("div",{className:t.technologyContainer,children:[e.jsx("input",{ref:O,type:"text",value:A,onChange:r=>G(r.target.value),onKeyDown:ee,onFocus:()=>S(A.length>0),onBlur:()=>setTimeout(()=>S(!1),200),className:t.technologyInput,placeholder:"Escribe y presiona Enter para agregar..."}),q&&Z().length>0&&e.jsx("div",{className:t.suggestions,children:Z().map(r=>e.jsx("div",{className:t.suggestionItem,onClick:()=>U(r),children:r},r))})]}),I.length>0&&e.jsx("div",{className:t.technologyChips,children:I.map((r,h)=>e.jsxs("span",{className:t.chip,children:[r,e.jsx("button",{type:"button",onClick:()=>R(h),className:t.chipRemove,"aria-label":`Eliminar ${r}`,children:e.jsx("i",{className:"fas fa-times"})})]},h))}),e.jsx("div",{className:t.helperText,children:"Agrega las tecnolog√≠as m√°s relevantes de este puesto"})]})]}),!j&&e.jsxs("div",{className:t.formSection,children:[e.jsxs("h3",{className:t.sectionTitle,children:[e.jsx("i",{className:"fas fa-medal"}),"Detalles Acad√©micos"]}),e.jsxs("div",{className:t.formGrid,children:[e.jsxs("div",{className:t.formField,children:[e.jsxs("label",{className:t.label,children:[e.jsx("i",{className:"fas fa-star"}),"Calificaci√≥n"]}),e.jsx("input",{type:"text",value:o.grade||"",onChange:r=>P("grade",r.target.value),className:t.input,placeholder:"Ej: Sobresaliente, 8.5/10, Matr√≠cula de Honor"}),e.jsx("div",{className:t.helperText,children:"Nota media, menci√≥n o reconocimiento obtenido"})]}),e.jsxs("div",{className:t.formField,children:[e.jsxs("label",{className:t.label,children:[e.jsx("i",{className:"fas fa-sort-numeric-up"}),"Orden de visualizaci√≥n"]}),e.jsx("input",{type:"number",value:o.order_index||0,onChange:r=>P("order_index",r.target.value),className:t.input,min:"0",placeholder:"0"}),e.jsx("div",{className:t.helperText,children:"N√∫mero para ordenar la visualizaci√≥n"})]})]})]}),e.jsxs("div",{className:t.formSection,children:[e.jsxs("h3",{className:t.sectionTitle,children:[e.jsx("i",{className:"fas fa-align-left"}),"Descripci√≥n y Detalles"]}),e.jsxs("div",{className:t.formField,children:[e.jsxs("label",{className:t.label,children:[e.jsx("i",{className:"fas fa-file-text"}),"Descripci√≥n"]}),e.jsxs("div",{className:t.textareaContainer,children:[e.jsx("textarea",{value:o.description,onChange:r=>P("description",r.target.value),className:`${t.textarea} ${E.description&&m.description?t.textareaError:""}`,rows:5,maxLength:500,placeholder:j?"Describe tus responsabilidades, logros y proyectos destacados...":"Describe la especializaci√≥n, proyectos destacados, etc..."}),e.jsxs("div",{className:`${t.characterCounter} ${o.description.length>450?t.warning:o.description.length>480?t.error:""}`,children:[o.description.length,"/500 caracteres"]})]}),E.description&&m.description&&e.jsxs("div",{className:t.errorText,children:[e.jsx("i",{className:"fas fa-exclamation-triangle"}),m.description]}),e.jsx("div",{className:t.helperText,children:"M√°ximo 500 caracteres. Enf√≥cate en logros y responsabilidades clave"})]})]})]})}),e.jsxs("div",{className:t.stickyFooter,children:[e.jsxs("div",{className:t.footerContent,children:[e.jsx("div",{className:t.saveIndicator,children:$&&e.jsxs(e.Fragment,{children:[e.jsx("i",{className:`fas fa-spinner ${t.spinning}`}),"Guardando cambios..."]})}),e.jsxs("div",{className:t.actions,children:[e.jsxs("button",{type:"button",onClick:g,disabled:$,className:`${t.button} ${t.buttonSecondary}`,children:[e.jsx("i",{className:"fas fa-times"}),"Cancelar"]}),e.jsx("button",{type:"submit",onClick:Y,disabled:$||Object.keys(m).length>0,className:`${t.button} ${t.buttonPrimary}`,children:$?e.jsxs(e.Fragment,{children:[e.jsx("i",{className:`fas fa-spinner ${t.spinning}`}),"Guardando..."]}):e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"fas fa-save"}),y?"Guardar Cambios":`Crear ${j?"Experiencia":"Educaci√≥n"}`]})})]})]}),e.jsxs("div",{className:t.shortcuts,children:[e.jsxs("span",{children:[e.jsx("kbd",{children:"Esc"})," Cerrar"]}),e.jsxs("span",{children:[e.jsx("kbd",{children:"Ctrl"})," + ",e.jsx("kbd",{children:"Enter"})," Guardar"]})]})]})]})})},Kt=()=>{const[s,g]=p.useState(!1);return p.useEffect(()=>{const u=()=>{g(window.innerWidth<=768)};return u(),window.addEventListener("resize",u),()=>window.removeEventListener("resize",u)},[]),s},Qt=({className:s,showAdminFAB:g=!1,onAdminClick:u})=>{const[d,y]=p.useState([]),[l,x]=p.useState([]),[f,o]=p.useState(!0),[v,m]=p.useState(null),D=Kt(),[E,z]=p.useState("traditional");p.useEffect(()=>{z(D?"chronological":"traditional")},[D]);const[$,L]=p.useState(0),[A,W]=p.useState(!1),[I,k]=p.useState("experience"),[q,S]=p.useState(!1),[C,w]=p.useState(null),[H,O]=p.useState(null),[V,P]=p.useState({title:"",company:"",start_date:"",end_date:"",description:"",technologies:"",order_index:0}),[K,U]=p.useState({title:"",institution:"",start_date:"",end_date:"",description:"",grade:"",order_index:0}),{showSuccess:R,showError:G}=de(),ee=Ys(),Z=p.useCallback(async()=>{try{const a=await oe();x(Array.isArray(a)?a:[])}catch(a){console.error("Error loading education:",a),x([]),G("Error","No se pudo cargar la informaci√≥n de educaci√≥n")}},[G]),Q=p.useCallback(async()=>{if(!($>=3)){o(!0),m(null);try{const a=await ce();y(a),o(!1),L(0)}catch{L(c=>c+1),m(`Error al cargar experiencias (Intento ${$+1}/3)`),o(!1),$<2&&setTimeout(()=>Q(),2e3)}}},[$]);p.useEffect(()=>{(async()=>{try{const[c,n]=await Promise.allSettled([ce(),oe()]);c.status==="fulfilled"?y(Array.isArray(c.value)?c.value:[]):(console.error("Error loading experiences:",c.reason),y([]),m("Usando datos de ejemplo para experiencias (API no disponible)")),n.status==="fulfilled"?x(Array.isArray(n.value)?n.value:[]):(console.error("Error loading education:",n.reason),x([]),await Z(),v||m("Usando datos de ejemplo para educaci√≥n (API no disponible)")),o(!1)}catch(c){console.error("Error loading data:",c),m("Error al cargar datos"),o(!1)}})()},[Z]);const Y=p.useCallback(a=>{z(a)},[]),j=a=>{var c;P({title:a.position,company:a.company,start_date:a.start_date,end_date:a.end_date,description:a.description||"",technologies:((c=a.technologies)==null?void 0:c.join(", "))||"",order_index:a.order_index}),w(a._id),O("experience"),S(!0)},X=a=>{var c;U({title:a.title,institution:a.institution,start_date:a.start_date,end_date:a.end_date,description:a.description||"",grade:a.grade||"",order_index:a.order_index||0}),w(((c=a.id)==null?void 0:c.toString())||""),O("education"),S(!0)},r=async(a,c)=>{if(confirm(`¬øEst√°s seguro de eliminar la experiencia "${c}"?`))try{await ve(a),y(n=>Array.isArray(n)?n.filter(b=>b._id!==a):[]),R("Experiencia Eliminada",`Se ha eliminado "${c}" correctamente`)}catch(n){console.error("Error eliminando experiencia:",n),G("Error","No se pudo eliminar la experiencia laboral")}},h=async(a,c)=>{if(!a){G("Error","ID de educaci√≥n no v√°lido");return}if(confirm(`¬øEst√°s seguro de eliminar la formaci√≥n "${c}"?`))try{const n=String(a).trim();console.log("üóëÔ∏è Eliminando educaci√≥n con ID:",n),console.log("üîç Tipo de ID original:",typeof a,"Valor:",a),await je(n),x(b=>Array.isArray(b)?b.filter(T=>{const B=T._id||T.id;return B!==a&&B!==n&&String(B)!==n}):[]),R("Formaci√≥n Eliminada",`Se ha eliminado "${c}" correctamente`)}catch(n){console.error("Error eliminando educaci√≥n:",n),G("Error","No se pudo eliminar la formaci√≥n acad√©mica")}},F=()=>{re(),w(null),O(I),S(!0)},i=()=>{S(!1),w(null),O(null),re()},N=()=>!Array.isArray(d)||d.length===0?e.jsxs("div",{className:"admin-empty",children:[e.jsx("i",{className:"fas fa-briefcase"}),e.jsx("h3",{children:"No hay experiencias"}),e.jsx("p",{children:"A√±ade la primera experiencia laboral usando el bot√≥n flotante."})]}):e.jsx("div",{className:"admin-items-list",children:d.sort((a,c)=>{const n=M(a.end_date);return M(c.end_date)-n}).map(a=>e.jsxs("div",{className:"admin-item-card",children:[e.jsxs("div",{className:"admin-item-header",children:[e.jsx("div",{className:"admin-item-image",children:e.jsx("div",{className:"admin-item-icon",children:e.jsx("i",{className:"fas fa-briefcase"})})}),e.jsxs("div",{className:"admin-item-info",children:[e.jsx("h3",{className:"admin-item-title",children:a.position}),e.jsx("p",{className:"admin-item-subtitle",children:a.company}),"                ",e.jsx("div",{className:"admin-exp-metadata",children:e.jsxs("div",{className:"admin-item-date",children:[e.jsx("i",{className:"fas fa-calendar-alt"}),e.jsx("span",{children:se(a.start_date,a.end_date)})]})}),a.description&&e.jsx("div",{className:"admin-item-description",children:e.jsx("p",{children:a.description.length>100?`${a.description.substring(0,100)}...`:a.description})}),a.technologies&&a.technologies.length>0&&e.jsx("div",{className:"admin-item-technologies",children:e.jsx("div",{className:"admin-tech-list",children:a.technologies.map((c,n)=>e.jsx("span",{className:"admin-tech-tag",children:c},n))})})]})]}),e.jsxs("div",{className:"admin-item-actions",children:[e.jsxs("button",{className:"admin-btn-secondary",onClick:()=>j(a),children:[e.jsx("i",{className:"fas fa-edit"}),"Editar"]}),e.jsxs("button",{className:"admin-btn-danger",onClick:()=>r(a._id,a.position),children:[e.jsx("i",{className:"fas fa-trash"}),"Eliminar"]})]})]},a._id))}),J=()=>!Array.isArray(l)||l.length===0?e.jsxs("div",{className:"admin-empty",children:[e.jsx("i",{className:"fas fa-graduation-cap"}),e.jsx("h3",{children:"No hay formaci√≥n acad√©mica"}),e.jsx("p",{children:"A√±ade la primera formaci√≥n acad√©mica usando el bot√≥n flotante."})]}):e.jsx("div",{className:"admin-items-list",children:l.sort((a,c)=>{const n=M(a.end_date);return M(c.end_date)-n}).map(a=>e.jsxs("div",{className:"admin-item-card",children:[e.jsxs("div",{className:"admin-item-header",children:[e.jsx("div",{className:"admin-item-image",children:e.jsx("div",{className:"admin-item-icon",children:e.jsx("i",{className:"fas fa-graduation-cap"})})}),e.jsxs("div",{className:"admin-item-info",children:[e.jsx("h3",{className:"admin-item-title",children:a.title}),e.jsx("p",{className:"admin-item-subtitle",children:a.institution}),e.jsxs("div",{className:"admin-edu-metadata",children:[e.jsxs("div",{className:"admin-item-date",children:[e.jsx("i",{className:"fas fa-calendar-alt"}),e.jsx("span",{children:se(a.start_date,a.end_date)})]}),a.grade&&e.jsxs("div",{className:"admin-item-grade",children:[e.jsx("i",{className:"fas fa-medal"}),e.jsx("span",{children:a.grade})]})]}),a.description&&e.jsx("div",{className:"admin-item-description",children:e.jsx("p",{children:a.description.length>100?`${a.description.substring(0,100)}...`:a.description})})]})]}),e.jsxs("div",{className:"admin-item-actions",children:[e.jsxs("button",{className:"admin-btn-secondary",onClick:()=>X(a),children:[e.jsx("i",{className:"fas fa-edit"}),"Editar"]}),e.jsxs("button",{className:"admin-btn-danger",onClick:()=>{const c=a._id||a.id;console.log("üéØ Educaci√≥n seleccionada para eliminar:",{eduId:c,title:a.title,eduObject:a}),c?h(c,a.title):(console.error("‚ùå No se encontr√≥ ID v√°lido para la educaci√≥n:",a),G("Error","No se puede eliminar: ID de educaci√≥n no v√°lido"))},children:[e.jsx("i",{className:"fas fa-trash"}),"Eliminar"]})]})]},a._id||a.id))}),M=a=>{if(!a||a.trim()==="")return 0;if(a==="Presente")return new Date().getFullYear()*12+new Date().getMonth();if(/^\d{4}$/.test(a))return parseInt(a)*12;const c=["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],n=a.split(" ");if(n.length>=2){const[T,B]=n,te=c.indexOf(T),ae=parseInt(B);if(te!==-1&&!isNaN(ae))return ae*12+te}const b=parseInt(a);return isNaN(b)?0:b*12},me=async a=>{try{if(H==="experience"){const n={position:a.title,company:a.company,start_date:a.start_date,end_date:a.end_date,description:a.description,technologies:a.technologies?a.technologies.split(",").map(b=>b.trim()).filter(b=>b):[],is_current:a.end_date===""||a.end_date==="Presente",order_index:a.order_index,user_id:"1"};if(C){const b=await fe(C,n),T=d.map(B=>B._id===C?{...B,...b}:B);y(T),R("Experiencia Actualizada",`Se ha actualizado "${n.position}" correctamente`)}else{const b=await be(n);y([...d,b]),R("Nueva Experiencia Creada",`Se ha creado "${b.position}" correctamente`)}}else{const n={title:a.title,institution:a.institution,start_date:a.start_date,end_date:a.end_date,description:a.description,grade:a.grade,order_index:a.order_index,user_id:1};if(C){const b=await xe(parseInt(C),n),T=(Array.isArray(l)?l:[]).map(B=>{var ae;return((ae=B._id||B.id)==null?void 0:ae.toString())===C?{...B,...b}:B});x(T),R("Educaci√≥n Actualizada",`Se ha actualizado "${n.title}" correctamente`)}else{const b=await ge(n);x([...Array.isArray(l)?l:[],b]),R("Nueva Formaci√≥n Acad√©mica Creada",`Se ha creado "${b.title}" correctamente`)}}i()}catch(c){console.error("Error al guardar:",c);const n=c instanceof Error?c.message:"Error desconocido";G("Error al Guardar",`No se pudo guardar ${H==="experience"?"la experiencia":"la educaci√≥n"}: ${n}`)}},re=()=>{P({title:"",company:"",start_date:"",end_date:"",description:"",technologies:"",order_index:0}),U({title:"",institution:"",start_date:"",end_date:"",description:"",grade:"",order_index:0})},_e=()=>{const a=H==="experience",c=a?V:K,n=T=>T?/^\d{4}-\d{2}(-\d{2})?$/.test(T)?T:(/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}(\.\d{3})?Z?$/.test(T),le(T)):"",b={title:c.title,company:a?V.company:void 0,institution:a?void 0:K.institution,start_date:n(c.start_date),end_date:n(c.end_date),description:c.description,technologies:a?V.technologies:void 0,grade:a?void 0:K.grade,order_index:c.order_index,is_current:c.end_date==="Actualmente"||c.end_date==="Presente"};return e.jsx(Yt,{isOpen:!0,onClose:i,formType:H,initialData:b,isEditing:!!C,onSubmit:me})},ue=()=>q?_e():I==="experience"?f?e.jsxs("div",{className:"admin-loading",children:[e.jsx("i",{className:"fas fa-spinner fa-spin"}),e.jsx("p",{children:"Cargando experiencias..."})]}):N():J();return f?e.jsx("div",{className:`cv-section ${s||""}`,children:e.jsxs("div",{className:"experience-loading",children:[e.jsx("div",{className:"loading-spinner"}),e.jsx("p",{children:"Cargando experiencia y formaci√≥n..."}),e.jsx("div",{className:"loading-details",children:e.jsx("small",{children:"Obteniendo datos del servidor..."})})]})}):v&&d.length===0?e.jsx("div",{className:`cv-section ${s||""}`,children:e.jsxs("div",{className:"experience-error",children:[e.jsx("i",{className:"fas fa-exclamation-triangle"}),e.jsx("p",{children:v}),e.jsxs("button",{className:"retry-button",onClick:Q,disabled:$>=3,children:[e.jsx("i",{className:"fas fa-redo"}),$>=3?"L√≠mite de reintentos alcanzado":"Reintentar"]})]})}):e.jsxs("div",{className:`section-cv ${s||""}`,id:"experience",children:[e.jsx(Ne,{icon:"fas fa-route",title:"Trayectoria Profesional",subtitle:"Un recorrido por mi experiencia laboral y formaci√≥n acad√©mica, mostrando las tecnolog√≠as y logros m√°s relevantes.",className:"experience",showNotification:!!(v&&d.length>0),notificationMessage:v||void 0,notificationIcon:"fas fa-info-circle"}),e.jsxs("div",{className:"section-container",ref:ee,children:[e.jsxs("div",{className:"view-toggle-container",children:[e.jsxs("button",{className:`view-toggle-btn ${E==="traditional"?"active":""}`,onClick:()=>Y("traditional"),"aria-label":"Vista por categor√≠as",children:[e.jsx("i",{className:"fas fa-columns"}),e.jsx("span",{children:"Vista por Categor√≠as"})]}),e.jsxs("button",{className:`view-toggle-btn ${E==="chronological"?"active":""}`,onClick:()=>Y("chronological"),"aria-label":"Vista cronol√≥gica",children:[e.jsx("i",{className:"fas fa-clock"}),e.jsx("span",{children:"Vista Cronol√≥gica"})]})]}),e.jsxs("div",{className:"experience-stats",children:[e.jsxs("div",{className:"stat-item",children:[e.jsx("span",{className:"stat-number",children:d.length}),e.jsx("span",{className:"stat-label",children:"Experiencias"})]}),e.jsxs("div",{className:"stat-item",children:[e.jsx("span",{className:"stat-number",children:Array.isArray(l)?l.length:0}),e.jsx("span",{className:"stat-label",children:"Certificaciones"})]}),e.jsxs("div",{className:"stat-item",children:[e.jsx("span",{className:"stat-number",children:Array.isArray(d)?d.reduce((a,c)=>{var n;return a+(((n=c.technologies)==null?void 0:n.length)||0)},0):0}),e.jsx("span",{className:"stat-label",children:"Tecnolog√≠as"})]})]}),"        ",E==="traditional"&&e.jsxs("div",{className:"experience-grid traditional-view",children:[e.jsxs("div",{className:"experience-column",children:[e.jsxs("div",{className:"column-header",children:[e.jsx("div",{className:"column-icon",children:e.jsx("i",{className:"fas fa-briefcase"})}),e.jsx("h3",{className:"column-title strong-contrast",children:"Experiencia Laboral"})]}),"              ",e.jsx("div",{className:"timeline-container",children:Array.isArray(d)?d.sort((a,c)=>{const n=a.end_date?M(a.end_date):0;return(c.end_date?M(c.end_date):0)-n}).map((a,c)=>e.jsx(Ks,{experience:a,index:c},a._id)):e.jsx("div",{children:"Cargando experiencias..."})})]}),e.jsxs("div",{className:"education-column",children:[e.jsxs("div",{className:"column-header",children:[e.jsx("div",{className:"column-icon",children:e.jsx("i",{className:"fas fa-graduation-cap"})}),e.jsx("h3",{className:"column-title strong-contrast",children:"Formaci√≥n Acad√©mica"})]}),"              ",e.jsx("div",{className:"timeline-container",children:(Array.isArray(l)?l:[]).sort((a,c)=>{const n=M(a.end_date);return M(c.end_date)-n}).map((a,c)=>e.jsx(Us,{education:a,index:c+(Array.isArray(d)?d.length:0)},a._id||a.id||c))})]})]}),"        ",E==="chronological"&&e.jsx("div",{className:"chronological-view",children:e.jsxs("div",{className:"chronological-timeline",children:[e.jsx("div",{className:"timeline-line"}),[...(Array.isArray(d)?d:[]).map(n=>({_id:n._id,title:n.position,start_date:n.start_date,end_date:n.end_date,description:n.description,type:"experience",company:n.company,technologies:n.technologies})),...(Array.isArray(l)?l:[]).map(n=>{var b;return{_id:((b=n._id||n.id)==null?void 0:b.toString())||"",id:typeof n.id=="number"?n.id:void 0,title:n.title,start_date:n.start_date,end_date:n.end_date,description:n.description,type:"education",institution:n.institution,grade:n.grade}})].sort((n,b)=>{const T=n.end_date?M(n.end_date):0;return(b.end_date?M(b.end_date):0)-T}).map((n,b)=>e.jsx(Zs,{item:n,index:b,position:b%2===0?"left":"right"},`${n.type}-${n._id||String(n.id)}`))]})})]}),g&&e.jsx(pe,{onClick:()=>{W(!0),u==null||u()},icon:"fas fa-cog",label:"Administrar Experiencia",position:"bottom-right",color:"primary",ariaLabel:"Administrar experiencia laboral"}),"      ",e.jsx(qs,{isOpen:A,onClose:()=>W(!1),title:"Administraci√≥n de Trayectoria",icon:"fas fa-route",maxWidth:"1300px",height:"88vh",tabs:[{id:"experience",label:"Experiencia Laboral",icon:"fas fa-briefcase",content:null},{id:"education",label:"Formaci√≥n Acad√©mica",icon:"fas fa-graduation-cap",content:null}],activeTab:I,onTabChange:a=>k(a),showTabs:!0,floatingActions:q?[{id:"cancel-form",label:"Cancelar",icon:"fas fa-times",onClick:i,variant:"secondary"},{id:"save-form",label:C?"Guardar Cambios":`Crear ${I==="experience"?"Experiencia":"Educaci√≥n"}`,icon:"fas fa-save",onClick:()=>{const a=document.querySelector(".admin-form");a&&a.requestSubmit()},variant:"primary"}]:[{id:"new-item",label:`Nueva ${I==="experience"?"Experiencia":"Educaci√≥n"}`,icon:"fas fa-plus",onClick:F,variant:"primary"}],children:e.jsxs("div",{className:"admin-content-wrapper",children:["          ",e.jsx("div",{className:"admin-main-content",children:ue()})]})})]})};export{Qt as default};
