import{j as e,R as V,m as R,u as G,r as g,n as U,F as H}from"./index-DlkU7Skz.js";import{H as N}from"./HeaderSection-7rUBa3Pw.js";const z="_paginationContainer_1cbm1_5",K="_paginationInfo_1cbm1_23",J="_pagination_1cbm1_5",Q="_pageNumbers_1cbm1_51",W="_pageButton_1cbm1_63",X="_active_1cbm1_137",Y="_prevNext_1cbm1_151",Z="_buttonText_1cbm1_163",ee="_ellipsis_1cbm1_171",l={paginationContainer:z,paginationInfo:K,pagination:J,pageNumbers:Q,pageButton:W,active:X,prevNext:Y,buttonText:Z,ellipsis:ee},te=({currentPage:n,totalPages:o,onPageChange:_,totalItems:m,itemsPerPage:d,showInfo:f=!0})=>{if(o<=1)return null;const v=(n-1)*d+1,h=Math.min(n*d,m),u=(()=>{const i=[];i.push(1);const x=Math.max(2,n-2),k=Math.min(o-1,n+2);x>2&&i.push("...");for(let c=x;c<=k;c++)i.push(c);return k<o-1&&i.push("..."),o>1&&i.push(o),i})();return e.jsxs("div",{className:l.paginationContainer,children:["      ",f&&e.jsx("div",{className:l.paginationInfo,children:e.jsx("span",{children:m===1?"1 proyecto":`Mostrando ${v}-${h} de ${m} proyectos`})}),e.jsxs("nav",{className:l.pagination,"aria-label":"Navegación de páginas",children:[e.jsxs("button",{className:`${l.pageButton} ${l.prevNext}`,onClick:()=>_(n-1),disabled:n===1,"aria-label":"Página anterior",children:[e.jsx("i",{className:"fas fa-chevron-left"}),e.jsx("span",{className:l.buttonText,children:"Anterior"})]}),e.jsx("div",{className:l.pageNumbers,children:u.map((r,i)=>e.jsx(V.Fragment,{children:typeof r=="number"?e.jsx("button",{className:`${l.pageButton} ${r===n?l.active:""}`,onClick:()=>_(r),"aria-label":`Página ${r}`,"aria-current":r===n?"page":void 0,children:r}):e.jsx("span",{className:l.ellipsis,"aria-hidden":"true",children:r})},i))}),e.jsxs("button",{className:`${l.pageButton} ${l.prevNext}`,onClick:()=>_(n+1),disabled:n===o,"aria-label":"Página siguiente",children:[e.jsx("span",{className:l.buttonText,children:"Siguiente"}),e.jsx("i",{className:"fas fa-chevron-right"})]})]})]})},se="_articlesSection_ckw2q_7",ae="_articlesGrid_ckw2q_59",ce="_articleCard_ckw2q_85",ie="_articleImage_ckw2q_127",ne="_articleOverlay_ckw2q_131",le="_readMore_ckw2q_136",re="_techChip_ckw2q_140",oe="_articleTypeContainer_ckw2q_262",de="_articleBadge_ckw2q_270",_e="_articleTypeBadge_ckw2q_285",me="_projectTypeBadge_ckw2q_297",he="_articleStatus_ckw2q_309",pe="_articleMeta_ckw2q_354",ge="_articleDates_ckw2q_363",ue="_articleDate_ckw2q_363",ke="_articleViews_ckw2q_382",xe="_articleActions_ckw2q_418",je="_articleContent_ckw2q_486",Ne="_articleTitle_ckw2q_498",fe="_articleDescription_ckw2q_519",ve="_articleLinks_ckw2q_539",be="_articleLink_ckw2q_539",ye="_github_ckw2q_576",we="_demo_ckw2q_582",Ce="_video_ckw2q_588",Te="_articleTechnologies_ckw2q_752",qe="_techMore_ckw2q_829",Be="_adminButton_ckw2q_861",$e="_retryButton_ckw2q_898",De="_articlesError_ckw2q_933",Se="_articlesEmpty_ckw2q_954",Ae="_articleCardSkeleton_ckw2q_1127",Ee="_skeletonImage_ckw2q_1149",Le="_skeletonContent_ckw2q_1171",Ie="_skeletonBadges_ckw2q_1179",Me="_skeletonBadge_ckw2q_1179",Pe="_skeletonTitle_ckw2q_1210",Fe="_skeletonDescription_ckw2q_1234",Oe="_skeletonLine_ckw2q_1241",Ve="_skeletonTechs_ckw2q_1272",Re="_skeletonTech_ckw2q_1272",Ge="_loading_ckw2q_1010",Ue="_filtersContainer_ckw2q_1443",He="_filterButton_ckw2q_1451",ze="_active_ckw2q_1475",t={articlesSection:se,articlesGrid:ae,articleCard:ce,articleImage:ie,articleOverlay:ne,readMore:le,techChip:re,articleTypeContainer:oe,articleBadge:de,articleTypeBadge:_e,projectTypeBadge:me,articleStatus:he,articleMeta:pe,articleDates:ge,articleDate:ue,articleViews:ke,articleActions:xe,articleContent:je,articleTitle:Ne,articleDescription:fe,articleLinks:ve,articleLink:be,github:ye,demo:we,video:Ce,articleTechnologies:Te,techMore:qe,adminButton:Be,retryButton:$e,articlesError:De,articlesEmpty:Se,articleCardSkeleton:Ae,skeletonImage:Ee,skeletonContent:Le,skeletonBadges:Ie,skeletonBadge:Me,skeletonTitle:Pe,skeletonDescription:Fe,skeletonLine:Oe,skeletonTechs:Ve,skeletonTech:Re,loading:Ge,filtersContainer:Ue,filterButton:He,active:ze},We=({onArticleClick:n,showAdminButton:o=!1,onAdminClick:_})=>{const m=R(),{articles:d,articlesLoading:f,articlesError:v}=G(),[h,y]=g.useState([]),[u,r]=g.useState(1),[i]=g.useState(3),[x,k]=g.useState(!1),[c,A]=g.useState("all"),p=d.length>0?d:h,w=d.length>0?f:h.length===0,C=d.length>0?v:null,T=(()=>{let s=p;return c==="projects"?s=p.filter(a=>!a.article_content):c==="articles"&&(s=p.filter(a=>a.article_content)),s})(),j=T.length,q=Math.ceil(j/i),B=(u-1)*i,E=B+i,L=T.slice(B,E),I=s=>{s!==u&&(k(!0),setTimeout(()=>{r(s),k(!1);const a=document.querySelector("#articles .header-section-title");a&&a.scrollIntoView({behavior:"smooth",block:"start"})},100))},b=s=>{A(s),r(1)};g.useEffect(()=>{d.length===0&&h.length===0&&$()},[d.length,h.length]);const $=async()=>{try{const s=await U();console.log("Artículos cargados:",(s==null?void 0:s.length)||0),y(s)}catch(s){console.error("Error al cargar los proyectos:",s)}},D=s=>{n?n(s):m(`/article/${s}`)},S=()=>{m("/articles/admin"),_==null||_()},M=p.some(s=>!s.article_content),P=p.some(s=>s.article_content),F=M&&P;return w?e.jsxs("div",{className:t.articlesSection,children:[e.jsx(N,{icon:"fas fa-project-diagram",title:"Proyectos Destacados",subtitle:"Una selección de mis proyectos más relevantes y sus tecnologías",className:"articles"}),e.jsx("div",{className:"section-container",children:e.jsx("div",{className:t.articlesGrid,children:[...Array(6)].map((s,a)=>e.jsxs("div",{className:t.articleCardSkeleton,children:[e.jsx("div",{className:t.skeletonImage}),e.jsxs("div",{className:t.skeletonContent,children:[e.jsxs("div",{className:t.skeletonBadges,children:[e.jsx("div",{className:t.skeletonBadge}),e.jsx("div",{className:t.skeletonBadge})]}),e.jsx("div",{className:t.skeletonTitle}),e.jsxs("div",{className:t.skeletonDescription,children:[e.jsx("div",{className:t.skeletonLine}),e.jsx("div",{className:t.skeletonLine})]}),e.jsxs("div",{className:t.skeletonTechs,children:[e.jsx("div",{className:t.skeletonTech}),e.jsx("div",{className:t.skeletonTech}),e.jsx("div",{className:t.skeletonTech})]})]})]},a))})})]}):C?e.jsxs("div",{className:t.articlesSection,children:[e.jsx(N,{icon:"fas fa-project-diagram",title:"Proyectos Destacados",subtitle:"Una selección de mis proyectos más relevantes y sus tecnologías",className:"articles"}),e.jsxs("div",{className:t.articlesError,children:[e.jsx("p",{children:C}),e.jsx("button",{onClick:$,className:t.retryButton,children:"Reintentar"})]})]}):p.length===0&&!w?e.jsxs("div",{className:t.articlesSection,children:[e.jsx(N,{icon:"fas fa-project-diagram",title:"Proyectos Destacados",subtitle:"Una selección de mis proyectos más relevantes y sus tecnologías",className:"articles"}),e.jsxs("div",{className:t.articlesEmpty,children:[e.jsx("i",{className:"fas fa-project-diagram"}),e.jsx("p",{children:"No hay proyectos publicados aún."}),o&&e.jsxs("button",{onClick:S,className:t.adminButton,children:[e.jsx("i",{className:"fas fa-plus"})," Crear primer proyecto"]})]}),"      "]}):e.jsxs("div",{className:"section-cv",id:"articles",children:[e.jsx(N,{icon:"fas fa-project-diagram",title:"Proyectos Destacados",subtitle:j>i?`Mis proyectos más relevantes (${j} ${c==="all"||c==="projects"?"proyectos":"artículos"} ${c==="all"?"en total":"encontrados"})`:"Una selección de mis proyectos más relevantes y sus tecnologías",className:"articles"}),e.jsxs("div",{className:"section-container",children:[F&&e.jsxs("div",{className:t.filtersContainer,children:[e.jsxs("button",{className:`${t.filterButton} ${c==="all"?t.active:""}`,onClick:()=>b("all"),"aria-pressed":c==="all",children:[e.jsx("i",{className:"fas fa-th"})," Todos"]}),e.jsxs("button",{className:`${t.filterButton} ${c==="projects"?t.active:""}`,onClick:()=>b("projects"),"aria-pressed":c==="projects",children:[e.jsx("i",{className:"fas fa-code"})," Proyectos"]}),e.jsxs("button",{className:`${t.filterButton} ${c==="articles"?t.active:""}`,onClick:()=>b("articles"),"aria-pressed":c==="articles",children:[e.jsx("i",{className:"fas fa-newspaper"})," Artículos"]})]}),e.jsx("div",{className:`${t.articlesGrid} ${x?t.loading:""}`,children:L.map(s=>e.jsxs("article",{className:t.articleCard,onClick:()=>D(s.id),tabIndex:0,onKeyDown:a=>{(a.key==="Enter"||a.key===" ")&&(a.preventDefault(),D(s.id))},children:[s.image_url&&e.jsxs("div",{className:t.articleImage,children:[e.jsx("img",{src:s.image_url,alt:s.title,loading:"lazy"}),e.jsx("div",{className:t.articleOverlay,"data-tooltip":"Ver proyecto completo",role:"button",tabIndex:-1,"aria-label":"Abrir proyecto",children:e.jsx("i",{className:"fas fa-newspaper","aria-hidden":"true"})})]}),e.jsxs("div",{className:t.articleContent,children:[e.jsxs("div",{className:t.articleTypeContainer,children:[s.article_content?e.jsxs("span",{className:`${t.articleBadge} ${t.articleTypeBadge}`,role:"badge","aria-label":"Tipo de contenido: Artículo",children:[e.jsx("i",{className:"fas fa-newspaper","aria-hidden":"true"}),"Artículo"]}):e.jsxs("span",{className:`${t.articleBadge} ${t.projectTypeBadge}`,role:"badge","aria-label":"Tipo de contenido: Proyecto",children:[e.jsx("i",{className:"fas fa-code","aria-hidden":"true"}),"Proyecto"]}),e.jsx("span",{className:`${t.articleBadge} ${t.articleStatus}`,"data-status":s.status,role:"badge","aria-label":`Estado del proyecto: ${s.status}`,children:s.status==="Completado"?"COMPLETADO":s.status==="En Desarrollo"?"EN DESARROLLO":"BORRADOR"})]}),e.jsxs("div",{className:t.articleMeta,children:[e.jsx("div",{className:t.articleDates,children:s.created_at?e.jsx("time",{className:t.articleDate,dateTime:s.created_at,title:`Publicado el ${new Date(s.created_at).toLocaleDateString("es-ES")}`,children:new Date(s.created_at).toLocaleDateString("es-ES",{day:"numeric",month:"short",year:"numeric"})}):e.jsx("span",{className:t.articleDate,children:"Fecha no disponible"})}),e.jsxs("span",{className:t.articleViews,"aria-label":`Número de visitas: ${s.views||0}`,children:[e.jsx("i",{className:"fas fa-eye","aria-hidden":"true"}),s.views||0]})]}),e.jsx("h3",{className:t.articleTitle,children:s.title}),e.jsx("p",{className:t.articleDescription,children:s.description}),s.technologies&&s.technologies.length>0&&e.jsxs("div",{className:t.articleTechnologies,children:[s.technologies.slice(0,4).map((a,O)=>e.jsx("span",{className:t.techChip,children:a},O)),s.technologies.length>4&&e.jsxs("span",{className:t.techMore,children:["+",s.technologies.length-4]})]}),e.jsxs("div",{className:t.articleLinks,children:[s.github_url&&e.jsx("a",{href:s.github_url,className:`${t.articleLink} ${t.github}`,target:"_blank",rel:"noopener noreferrer",onClick:a=>a.stopPropagation(),"aria-label":"Ver repositorio en GitHub",children:e.jsx("i",{className:"fab fa-github"})}),s.live_url&&s.live_url!=="#"&&e.jsx("a",{href:s.live_url,className:`${t.articleLink} ${t.demo}`,target:"_blank",rel:"noopener noreferrer",onClick:a=>a.stopPropagation(),"aria-label":"Ver demo en vivo",children:e.jsx("i",{className:"fas fa-eye"})}),s.video_demo_url&&e.jsx("a",{href:s.video_demo_url,className:`${t.articleLink} ${t.video}`,target:"_blank",rel:"noopener noreferrer",onClick:a=>a.stopPropagation(),"aria-label":"Ver video demostración",children:e.jsx("i",{className:"fab fa-youtube"})})]}),e.jsx("div",{className:t.articleActions,children:e.jsxs("span",{className:t.readMore,children:["Ver proyecto completo ",e.jsx("i",{className:"fas fa-arrow-right"})]})})]})]},s.id))}),q>1&&e.jsx(te,{currentPage:u,totalPages:q,onPageChange:I,totalItems:j,itemsPerPage:i,showInfo:!0})]}),o&&e.jsx(H,{onClick:S,icon:"fas fa-edit",label:"Gestionar Proyectos",color:"primary",position:"bottom-right"})]})};export{We as default};
