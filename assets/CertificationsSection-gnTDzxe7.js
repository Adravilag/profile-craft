import{r as g,j as e,M as q,y as V,z as J,A as K,B as ee}from"./index-DpVECWVI.js";import{u as W}from"./useNotification-Cb3m2vqT.js";import{H as ie}from"./HeaderSection-D_2FCygD.js";import{F as ae}from"./FloatingActionButtonGroup-CaEIn8Ii.js";const se=[{id:"aws",name:"Amazon Web Services (AWS)",logoUrl:"/assets/images/certification-logos/aws.svg",verifyBaseUrl:"https://www.credly.com/badges/",category:"cloud",description:"Certificaciones de servicios en la nube de Amazon"},{id:"microsoft",name:"Microsoft Azure",logoUrl:"/assets/images/certification-logos/microsoft.svg",verifyBaseUrl:"https://learn.microsoft.com/en-us/users/",category:"cloud",description:"Certificaciones de Microsoft Azure y tecnologías relacionadas"},{id:"google-cloud",name:"Google Cloud Platform",logoUrl:"/assets/images/certification-logos/google-cloud.svg",verifyBaseUrl:"https://www.credential.net/profile/",category:"cloud",description:"Certificaciones de Google Cloud Platform"},{id:"sololearn",name:"SoloLearn",logoUrl:"/assets/images/certification-logos/sololearn.png",verifyBaseUrl:"https://www.sololearn.com/certificates/",certificateImageUrl:"https://api2.sololearn.com/v2/certificates/{credentialId}/image/pdf",category:"programming",description:"Certificaciones de programación y desarrollo web"},{id:"codecademy",name:"Codecademy",logoUrl:"/assets/images/certification-logos/codecademy.svg",verifyBaseUrl:"https://www.codecademy.com/profiles/",category:"programming",description:"Certificaciones de programación y ciencias de datos"},{id:"freecodecamp",name:"freeCodeCamp",logoUrl:"/assets/images/certification-logos/freecodecamp.svg",verifyBaseUrl:"https://www.freecodecamp.org/certification/",category:"programming",description:"Certificaciones gratuitas de desarrollo web y programación"},{id:"udemy",name:"Udemy",logoUrl:"/assets/images/certification-logos/udemy.svg",verifyBaseUrl:"https://www.udemy.com/certificate/",category:"programming",description:"Certificaciones de cursos en línea"},{id:"coursera",name:"Coursera",logoUrl:"/assets/images/certification-logos/coursera.svg",verifyBaseUrl:"https://www.coursera.org/account/accomplishments/certificate/",category:"programming",description:"Certificaciones universitarias y profesionales"},{id:"oracle",name:"Oracle",logoUrl:"/assets/images/certifications/oracle-logo.png",verifyBaseUrl:"https://catalog-education.oracle.com/pls/certview/sharebadge?id=",category:"database",description:"Certificaciones de Oracle Database y tecnologías Java"},{id:"mongodb",name:"MongoDB",logoUrl:"/assets/images/certifications/mongodb-logo.png",verifyBaseUrl:"https://university.mongodb.com/certification/verify/",category:"database",description:"Certificaciones de MongoDB y NoSQL"},{id:"cisco",name:"Cisco",logoUrl:"/assets/images/certifications/cisco-logo.png",verifyBaseUrl:"https://www.cisco.com/c/en/us/training-events/training-certifications/certifications/verify.html",category:"security",description:"Certificaciones de redes y ciberseguridad"},{id:"comptia",name:"CompTIA",logoUrl:"/assets/images/certifications/comptia-logo.png",verifyBaseUrl:"https://www.certmetrics.com/comptia/public/verification.aspx",category:"security",description:"Certificaciones de TI y ciberseguridad"},{id:"adobe",name:"Adobe",logoUrl:"/assets/images/certifications/adobe-logo.png",verifyBaseUrl:"https://www.adobe.com/training/certification/verification.html",category:"design",description:"Certificaciones de diseño gráfico y multimedia"},{id:"figma",name:"Figma",logoUrl:"/assets/images/certifications/figma-logo.png",category:"design",description:"Certificaciones de diseño UX/UI"},{id:"pmi",name:"Project Management Institute (PMI)",logoUrl:"/assets/images/certifications/pmi-logo.png",verifyBaseUrl:"https://www.pmi.org/certifications/certification-registry",category:"project-management",description:"Certificaciones de gestión de proyectos"},{id:"scrum",name:"Scrum.org",logoUrl:"/assets/images/certifications/scrum-logo.png",verifyBaseUrl:"https://www.scrum.org/user/",category:"project-management",description:"Certificaciones de metodologías ágiles y Scrum"},{id:"linkedin",name:"LinkedIn Learning",logoUrl:"/assets/images/certification-logos/linkedin.svg",verifyBaseUrl:"https://www.linkedin.com/learning/certificates/",category:"other",description:"Certificaciones profesionales de LinkedIn"},{id:"edx",name:"edX",logoUrl:"/assets/images/certifications/edx-logo.png",verifyBaseUrl:"https://courses.edx.org/certificates/",category:"other",description:"Certificaciones universitarias en línea"},{id:"platzi",name:"Platzi",logoUrl:"/assets/images/certifications/platzi-logo.png",verifyBaseUrl:"https://platzi.com/p/",category:"programming",description:"Certificaciones de tecnología en español"}],te=(d,l)=>{if(!(!d.verifyBaseUrl||!l))return`${d.verifyBaseUrl}${l}`},re=(d,l)=>{if(!l||!l.trim())return!1;const r=l.trim();switch(d.id){case"aws":return/^[A-Za-z0-9-]{8,50}$/.test(r);case"microsoft":return/^[A-Za-z0-9-]{10,40}$/.test(r);case"google-cloud":return/^[A-Za-z0-9-]{10,40}$/.test(r);case"sololearn":return/^CT-[A-Z0-9]{6,20}$/.test(r);case"codecademy":return/^[A-Za-z0-9]{6,30}$/.test(r);case"freecodecamp":return/^[a-zA-Z0-9_-]+\/[a-zA-Z0-9_-]+$/.test(r);case"udemy":return/^[A-Z0-9]{10,30}$/.test(r);case"coursera":return/^[A-Za-z0-9-]{10,40}$/.test(r);case"oracle":return/^[A-Z0-9]{8,25}$/.test(r);case"mongodb":return/^[A-Za-z0-9]{8,30}$/.test(r);case"cisco":return/^[A-Z0-9]{10,25}$/.test(r);case"comptia":return/^[A-Z0-9]{8,20}$/.test(r);case"linkedin":return/^[A-Za-z0-9]{8,40}$/.test(r);case"platzi":return/^[a-zA-Z0-9_-]+\/[a-zA-Z0-9_-]+$/.test(r);default:return/^[A-Za-z0-9-_]{6,50}$/.test(r)}},H=d=>{switch(d.id){case"aws":return"Ej: ABC123DEF456";case"microsoft":return"Ej: MC-123456-789";case"google-cloud":return"Ej: GCP123456789";case"sololearn":return"Ej: CT-SBWD5KGG";case"codecademy":return"Ej: ABC123XYZ789";case"freecodecamp":return"Ej: usuario/responsive-web-design";case"udemy":return"Ej: UC-12345678";case"coursera":return"Ej: ABCD1234EFGH";case"oracle":return"Ej: 1Z0-123456";case"mongodb":return"Ej: MDB123456";case"cisco":return"Ej: CSCO12345678";case"comptia":return"Ej: COMP123456";case"linkedin":return"Ej: AaBbCcDdEeFf";case"platzi":return"Ej: usuario/certificado-react";default:return"Ej: ABC123XYZ789"}},Z=[{id:"all",name:"Todas las categorías"},{id:"cloud",name:"Cloud Computing"},{id:"programming",name:"Programación"},{id:"database",name:"Bases de Datos"},{id:"security",name:"Ciberseguridad"},{id:"design",name:"Diseño"},{id:"project-management",name:"Gestión de Proyectos"},{id:"other",name:"Otros"}],oe="_credentialInputContainer_ms5xh_3",ce="_inputWrapper_ms5xh_7",ne="_credentialInput_ms5xh_3",le="_checking_ms5xh_37",de="_valid_ms5xh_42",me="_invalid_ms5xh_48",fe="_statusContainer_ms5xh_55",ge="_statusIcon_ms5xh_63",ue="_validIcon_ms5xh_68",pe="_invalidIcon_ms5xh_73",_e="_helpText_ms5xh_102",ye="_verifyContainer_ms5xh_111",he="_verifyLink_ms5xh_116",ve="_errorContainer_ms5xh_142",y={credentialInputContainer:oe,inputWrapper:ce,credentialInput:ne,checking:le,valid:de,invalid:me,statusContainer:fe,statusIcon:ge,validIcon:ue,invalidIcon:pe,helpText:_e,verifyContainer:ye,verifyLink:he,errorContainer:ve},xe=({value:d,onChange:l,issuer:r,placeholder:A="ID de Credencial"})=>{const[j,N]=g.useState(null),[w,_]=g.useState(!1),[C,h]=g.useState();g.useEffect(()=>{if(!d.trim()||!r){N(null),h(void 0);return}_(!0);const t=setTimeout(()=>{const u=re(r,d);if(N(u),u){const n=te(r,d);h(n)}else h(void 0);_(!1)},800);return()=>clearTimeout(t)},[d,r]);const b=t=>{l(t.target.value)},f=()=>w?y.checking:j===!0?y.valid:j===!1?y.invalid:"",v=()=>w?e.jsx("i",{className:`fas fa-spinner fa-spin ${y.statusIcon}`}):j===!0?e.jsx("i",{className:`fas fa-check-circle ${y.statusIcon} ${y.validIcon}`}):j===!1?e.jsx("i",{className:`fas fa-times-circle ${y.statusIcon} ${y.invalidIcon}`}):null;return e.jsxs("div",{className:y.credentialInputContainer,children:[e.jsxs("div",{className:`${y.inputWrapper} ${f()}`,children:[e.jsx("input",{type:"text",value:d,onChange:b,placeholder:r?H(r):A,className:y.credentialInput}),e.jsx("div",{className:y.statusContainer,children:v()})]}),r&&e.jsx("div",{className:y.helpText,children:H(r)}),j===!0&&C&&e.jsx("div",{className:y.verifyContainer,children:e.jsxs("a",{href:C,target:"_blank",rel:"noopener noreferrer",className:y.verifyLink,children:[e.jsx("i",{className:"fas fa-external-link-alt"}),e.jsx("span",{children:"Verificar certificación"})]})}),j===!1&&d.trim()&&e.jsxs("div",{className:y.errorContainer,children:[e.jsx("i",{className:"fas fa-exclamation-triangle"}),e.jsxs("span",{children:["Formato de credencial no válido para ",r==null?void 0:r.name]})]})]})},je="_issuerSelectorContainer_7z00y_3",we="_inputContainer_7z00y_8",Ce="_issuerInput_7z00y_14",Ne="_inputButtons_7z00y_32",be="_clearButton_7z00y_41",Ie="_dropdownButton_7z00y_42",Ue="_rotated_7z00y_68",Be="_dropdownContainer_7z00y_72",ze="_categoryFilters_7z00y_102",Ae="_filterLabel_7z00y_108",Se="_categoryButtons_7z00y_115",Ee="_categoryButton_7z00y_115",De="_active_7z00y_139",Le="_issuersList_7z00y_145",ke="_noResults_7z00y_151",$e="_issuerOption_7z00y_177",Me="_hovered_7z00y_192",Fe="_issuerLogo_7z00y_200",Te="_logoFallback_7z00y_218",Ge="_issuerInfo_7z00y_229",Pe="_issuerName_7z00y_234",Re="_issuerDescription_7z00y_244",He="_issuerCategory_7z00y_254",Ze="_selectIcon_7z00y_263",Oe="_dropdownFooter_7z00y_284",m={issuerSelectorContainer:je,inputContainer:we,issuerInput:Ce,inputButtons:Ne,clearButton:be,dropdownButton:Ie,rotated:Ue,dropdownContainer:Be,categoryFilters:ze,filterLabel:Ae,categoryButtons:Se,categoryButton:Ee,active:De,issuersList:Le,noResults:ke,issuerOption:$e,hovered:Me,issuerLogo:Fe,logoFallback:Te,issuerInfo:Ge,issuerName:Pe,issuerDescription:Re,issuerCategory:He,selectIcon:Ze,dropdownFooter:Oe},Ve=({value:d,onChange:l,placeholder:r="Seleccionar emisor",required:A=!1,name:j,id:N})=>{const[w,_]=g.useState(!1),[C,h]=g.useState(d),[b,f]=g.useState("all"),[v,t]=g.useState(null),u=g.useRef(null),n=g.useRef(null),I=se.filter(o=>{const B=o.name.toLowerCase().includes(C.toLowerCase())||o.id.toLowerCase().includes(C.toLowerCase()),z=b==="all"||o.category===b;return B&&z});g.useEffect(()=>{const o=B=>{u.current&&!u.current.contains(B.target)&&_(!1)};return document.addEventListener("mousedown",o),()=>document.removeEventListener("mousedown",o)},[]);const D=o=>{h(o.name),l(o),_(!1)},E=o=>{h(o.target.value),w||_(!0)},L=()=>{_(!0)},$=()=>{h(""),l({})};return e.jsxs("div",{className:m.issuerSelectorContainer,ref:u,children:[e.jsxs("div",{className:m.inputContainer,children:[e.jsx("input",{ref:n,type:"text",value:C,onChange:E,onFocus:L,placeholder:r,required:A,name:j,id:N,className:m.issuerInput,autoComplete:"off"}),e.jsxs("div",{className:m.inputButtons,children:[C&&e.jsx("button",{type:"button",className:m.clearButton,onClick:$,title:"Limpiar selección",children:e.jsx("i",{className:"fas fa-times"})}),e.jsx("button",{type:"button",className:m.dropdownButton,onClick:()=>_(!w),title:"Abrir selector",children:e.jsx("i",{className:`fas fa-chevron-down ${w?m.rotated:""}`})})]})]}),w&&e.jsxs("div",{className:m.dropdownContainer,children:[e.jsxs("div",{className:m.categoryFilters,children:[e.jsx("div",{className:m.filterLabel,children:"Categorías:"}),e.jsx("div",{className:m.categoryButtons,children:Z.map(o=>e.jsx("button",{type:"button",className:`${m.categoryButton} ${b===o.id?m.active:""}`,onClick:()=>f(o.id),children:o.name},o.id))})]}),e.jsx("div",{className:m.issuersList,children:I.length===0?e.jsxs("div",{className:m.noResults,children:[e.jsx("i",{className:"fas fa-search"}),e.jsx("p",{children:"No se encontraron emisores"}),e.jsx("small",{children:"Prueba con otro término de búsqueda o categoría"})]}):I.map(o=>{var B;return e.jsxs("button",{type:"button",className:`${m.issuerOption} ${v===o.id?m.hovered:""}`,onClick:()=>D(o),onMouseEnter:()=>t(o.id),onMouseLeave:()=>t(null),children:[e.jsxs("div",{className:m.issuerLogo,children:[e.jsx("img",{src:o.logoUrl,alt:`${o.name} logo`,onError:z=>{z.target.style.display="none";const k=z.target.nextElementSibling;k&&(k.style.display="flex")}}),e.jsx("div",{className:m.logoFallback,children:e.jsx("i",{className:"fas fa-certificate"})})]}),e.jsxs("div",{className:m.issuerInfo,children:[e.jsx("div",{className:m.issuerName,children:o.name}),o.description&&e.jsx("div",{className:m.issuerDescription,children:o.description}),e.jsxs("div",{className:m.issuerCategory,children:[e.jsx("i",{className:"fas fa-tag"}),(B=Z.find(z=>z.id===o.category))==null?void 0:B.name]})]}),e.jsx("div",{className:m.selectIcon,children:e.jsx("i",{className:"fas fa-plus"})})]},o.id)})}),e.jsx("div",{className:m.dropdownFooter,children:e.jsxs("small",{children:[e.jsx("i",{className:"fas fa-info-circle"}),"Se cargarán automáticamente el logo y URL de verificación"]})})]})]})},O=[{id:"aws",name:"Amazon Web Services (AWS)",logoUrl:"/assets/images/certification-logos/aws.svg",verifyBaseUrl:"https://www.credly.com/badges/",category:"cloud",description:"Certificaciones de servicios en la nube de Amazon"},{id:"microsoft",name:"Microsoft Azure",logoUrl:"/assets/images/certification-logos/microsoft.svg",verifyBaseUrl:"https://learn.microsoft.com/en-us/users/",category:"cloud",description:"Certificaciones de Microsoft Azure y tecnologías relacionadas"},{id:"google-cloud",name:"Google Cloud Platform",logoUrl:"/assets/images/certification-logos/google-cloud.svg",verifyBaseUrl:"https://www.credential.net/profile/",category:"cloud",description:"Certificaciones de Google Cloud Platform"},{id:"sololearn",name:"SoloLearn",logoUrl:"/assets/images/certification-logos/sololearn.png",verifyBaseUrl:"https://www.sololearn.com/certificates/",certificateImageUrl:"https://api2.sololearn.com/v2/certificates/{credentialId}/image/pdf",category:"programming",description:"Certificaciones de programación y desarrollo web"},{id:"codecademy",name:"Codecademy",logoUrl:"/assets/images/certification-logos/codecademy.svg",verifyBaseUrl:"https://www.codecademy.com/profiles/",category:"programming",description:"Certificaciones de programación y ciencias de datos"},{id:"freecodecamp",name:"freeCodeCamp",logoUrl:"/assets/images/certification-logos/freecodecamp.svg",verifyBaseUrl:"https://www.freecodecamp.org/certification/",category:"programming",description:"Certificaciones gratuitas de desarrollo web y programación"},{id:"udemy",name:"Udemy",logoUrl:"/assets/images/certification-logos/udemy.svg",verifyBaseUrl:"https://www.udemy.com/certificate/",category:"programming",description:"Certificaciones de cursos en línea"},{id:"coursera",name:"Coursera",logoUrl:"/assets/images/certification-logos/coursera.svg",verifyBaseUrl:"https://www.coursera.org/account/accomplishments/certificate/",category:"programming",description:"Certificaciones universitarias y profesionales"},{id:"oracle",name:"Oracle",logoUrl:"/assets/images/certifications/oracle-logo.png",verifyBaseUrl:"https://catalog-education.oracle.com/pls/certview/sharebadge?id=",category:"database",description:"Certificaciones de Oracle Database y tecnologías Java"},{id:"mongodb",name:"MongoDB",logoUrl:"/assets/images/certifications/mongodb-logo.png",verifyBaseUrl:"https://university.mongodb.com/certification/verify/",category:"database",description:"Certificaciones de MongoDB y NoSQL"},{id:"cisco",name:"Cisco",logoUrl:"/assets/images/certifications/cisco-logo.png",verifyBaseUrl:"https://www.cisco.com/c/en/us/training-events/training-certifications/certifications/verify.html",category:"security",description:"Certificaciones de redes y ciberseguridad"},{id:"comptia",name:"CompTIA",logoUrl:"/assets/images/certifications/comptia-logo.png",verifyBaseUrl:"https://www.certmetrics.com/comptia/public/verification.aspx",category:"security",description:"Certificaciones de TI y ciberseguridad"},{id:"adobe",name:"Adobe",logoUrl:"/assets/images/certifications/adobe-logo.png",verifyBaseUrl:"https://www.adobe.com/training/certification/verification.html",category:"design",description:"Certificaciones de diseño gráfico y multimedia"},{id:"figma",name:"Figma",logoUrl:"/assets/images/certifications/figma-logo.png",category:"design",description:"Certificaciones de diseño UX/UI"},{id:"pmi",name:"Project Management Institute (PMI)",logoUrl:"/assets/images/certifications/pmi-logo.png",verifyBaseUrl:"https://www.pmi.org/certifications/certification-registry",category:"project-management",description:"Certificaciones de gestión de proyectos"},{id:"scrum",name:"Scrum.org",logoUrl:"/assets/images/certifications/scrum-logo.png",verifyBaseUrl:"https://www.scrum.org/user/",category:"project-management",description:"Certificaciones de metodologías ágiles y Scrum"},{id:"linkedin",name:"LinkedIn Learning",logoUrl:"/assets/images/certification-logos/linkedin.svg",verifyBaseUrl:"https://www.linkedin.com/learning/certificates/",category:"other",description:"Certificaciones profesionales de LinkedIn"},{id:"edx",name:"edX",logoUrl:"/assets/images/certifications/edx-logo.png",verifyBaseUrl:"https://courses.edx.org/certificates/",category:"other",description:"Certificaciones universitarias en línea"},{id:"platzi",name:"Platzi",logoUrl:"/assets/images/certifications/platzi-logo.png",verifyBaseUrl:"https://platzi.com/p/",category:"programming",description:"Certificaciones de tecnología en español"}],G=(d,l)=>{if(!(!d.verifyBaseUrl||!l))return`${d.verifyBaseUrl}${l}`},P=(d,l)=>{if(!(!d.certificateImageUrl||!l))return d.certificateImageUrl.replace("{credentialId}",l)},We="_certificationsAdminOverlay_wyzm5_44",Qe="_formModalOverlay_wyzm5_60",Xe="_formModal_wyzm5_60",Ye="_certificationsAdminModal_wyzm5_90",qe="_adminHeader_wyzm5_137",Je="_closeBtn_wyzm5_156",Ke="_adminToolbar_wyzm5_181",ei="_toolbarLeft_wyzm5_190",ii="_toolbarRight_wyzm5_196",ai="_statsText_wyzm5_202",si="_newCertificationBtn_wyzm5_212",ti="_demoCrudBtn_wyzm5_233",ri="_loading_wyzm5_276",oi="_emptyState_wyzm5_276",ci="_certificationsList_wyzm5_299",ni="_adminCertificationCard_wyzm5_305",li="_certificationHeader_wyzm5_319",di="_certificationImage_wyzm5_325",mi="_placeholderImage_wyzm5_343",fi="_certificationInfo_wyzm5_348",gi="_issuer_wyzm5_359",ui="_date_wyzm5_366",pi="_credentialId_wyzm5_367",_i="_verifyLink_wyzm5_376",yi="_certificationActions_wyzm5_393",hi="_actionBtn_wyzm5_399",vi="_editBtn_wyzm5_414",xi="_deleteBtn_wyzm5_425",ji="_modernInput_wyzm5_489",wi="_formRow_wyzm5_523",Ci="_formGroup_wyzm5_538",Ni="_formHeader_wyzm5_558",bi="_certificationForm_wyzm5_577",Ii="_formActions_wyzm5_621",Ui="_btnPrimary_wyzm5_630",Bi="_btnSecondary_wyzm5_631",zi="_issuerPreview_wyzm5_673",Ai="_previewHeader_wyzm5_720",Si="_previewContent_wyzm5_743",Ei="_previewLogo_wyzm5_751",Di="_previewInfo_wyzm5_825",Li="_previewName_wyzm5_832",ki="_previewDescription_wyzm5_845",$i="_previewDetails_wyzm5_854",Mi="_previewCategory_wyzm5_861",Fi="_previewVerify_wyzm5_862",Ti="_certMetadata_wyzm5_1349",Gi="_formHeaderActions_wyzm5_1421",a={certificationsAdminOverlay:We,formModalOverlay:Qe,formModal:Xe,certificationsAdminModal:Ye,adminHeader:qe,closeBtn:Je,adminToolbar:Ke,toolbarLeft:ei,toolbarRight:ii,statsText:ai,newCertificationBtn:si,demoCrudBtn:ti,loading:ri,emptyState:oi,certificationsList:ci,adminCertificationCard:ni,certificationHeader:li,certificationImage:di,placeholderImage:mi,certificationInfo:fi,issuer:gi,date:ui,credentialId:pi,verifyLink:_i,certificationActions:yi,actionBtn:hi,editBtn:vi,deleteBtn:xi,modernInput:ji,formRow:wi,formGroup:Ci,formHeader:Ni,certificationForm:bi,formActions:Ii,btnPrimary:Ui,btnSecondary:Bi,issuerPreview:zi,previewHeader:Ai,previewContent:Si,previewLogo:Ei,previewInfo:Di,previewName:Li,previewDescription:ki,previewDetails:$i,previewCategory:Mi,previewVerify:Fi,certMetadata:Ti,formHeaderActions:Gi},Pi=({onClose:d})=>{const[l,r]=g.useState([]),[A,j]=g.useState(!0),[N,w]=g.useState(!1),[_,C]=g.useState(null),[h,b]=g.useState(!1),{showSuccess:f,showError:v}=W(),[t,u]=g.useState({title:"",issuer:"",date:"",credential_id:"",image_url:"",order_index:0}),[n,I]=g.useState(null),D={title:"",issuer:"",date:"",credential_id:"",image_url:"",order_index:0},E=async()=>{try{j(!0);const i=await V();r(i)}catch(i){console.error("Error cargando certificaciones:",i),v("Error","No se pudieron cargar las certificaciones")}finally{j(!1)}};g.useEffect(()=>{E()},[]);const L=i=>{const{name:s,value:c}=i.target;u(x=>({...x,[s]:s==="order_index"?parseInt(c)||0:c}))},$=i=>{u(s=>({...s,date:i.target.value}))},o=i=>{if(i.name){if(I(i),u(s=>({...s,issuer:i.name,image_url:i.logoUrl||s.image_url})),t.credential_id&&t.credential_id.trim()){if(i.verifyBaseUrl){const s=G(i,t.credential_id);s&&u(c=>({...c,verify_url:s}))}if(i.certificateImageUrl){const s=P(i,t.credential_id);s&&u(c=>({...c,image_url:s}))}}}else I(null),u(s=>({...s,issuer:"",image_url:"",verify_url:""}))},B=async i=>{if(i.preventDefault(),!t.title.trim()||!t.issuer.trim()||!t.date.trim()){v("Error de validación","Título, emisor y fecha son obligatorios");return}try{b(!0);let s="",c=t.image_url;if(n&&t.credential_id.trim()){const U=G(n,t.credential_id);if(U&&(s=U),n.certificateImageUrl){const S=P(n,t.credential_id);S&&(c=S)}}else n&&!t.credential_id.trim()&&(c=n.logoUrl||t.image_url);const x={...t,date:k(t.date),image_url:c,verify_url:s||void 0,user_id:1,order_index:t.order_index||l.length};_?(await K(_,x),f("¡Certificación actualizada!","Los cambios se han guardado correctamente")):(await ee(x),f("¡Certificación creada!","La nueva certificación se ha añadido correctamente")),await E(),M()}catch(s){console.error("Error guardando certificación:",s),v("Error","No se pudo guardar la certificación")}finally{b(!1)}},z=i=>{if(!i)return"";if(/^\d{4}-\d{2}$/.test(i))return i;if(/^\d{4}$/.test(i))return`${i}-01`;const s={enero:"01",febrero:"02",marzo:"03",abril:"04",mayo:"05",junio:"06",julio:"07",agosto:"08",septiembre:"09",octubre:"10",noviembre:"11",diciembre:"12"},c={january:"01",february:"02",march:"03",april:"04",may:"05",june:"06",july:"07",august:"08",september:"09",october:"10",november:"11",december:"12"},x=i.toLowerCase(),U=i.match(/(\d{4})/);if(U){const S=U[1];for(const[F,T]of Object.entries(s))if(x.includes(F))return`${S}-${T}`;for(const[F,T]of Object.entries(c))if(x.includes(F))return`${S}-${T}`;return`${S}-01`}return""},k=i=>{if(!i||!i.includes("-"))return i;const[s,c]=i.split("-"),x=["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],U=parseInt(c)-1;return U>=0&&U<12?`${x[U]} ${s}`:i},Q=i=>{const s=O.find(c=>c.name===i.issuer);u({title:i.title,issuer:i.issuer,date:z(i.date),credential_id:i.credential_id||"",image_url:i.image_url||"",order_index:i.order_index}),I(s||null),C(i._id||i.id||null),w(!0)},X=async(i,s)=>{if(confirm(`🗑️ ¿Estás seguro de eliminar la certificación "${s}"?

Esta acción no se puede deshacer.`))try{await J(i.toString()),f("¡Certificación eliminada!","La certificación se ha eliminado correctamente"),await E()}catch(c){console.error("Error eliminando certificación:",c),v("Error","No se pudo eliminar la certificación")}},M=()=>{w(!1),u(D),I(null),C(null)},Y=()=>{u({...D,order_index:l.length}),I(null),C(null),w(!0)},R=()=>{if(N){const i={title:"AWS Solutions Architect Associate",issuer:"Amazon Web Services",date:"2024-06",credential_id:"AWS-SAA-C03-123456",image_url:"https://d1.awsstatic.com/training-and-certification/certification-badges/AWS-Certified-Solutions-Architect-Associate_badge.3419559c682629072f1eb968d59dea0741772c0f.png",order_index:l.length};u(i);const s=O.find(c=>c.name.toLowerCase().includes("amazon")||c.name.toLowerCase().includes("aws"));s&&I(s),f("Datos demo cargados","Se han cargado datos de ejemplo en el formulario")}else v("Error","Primero abre el formulario para usar datos demo")};return e.jsx(q,{children:e.jsx("div",{className:a.certificationsAdminOverlay,children:e.jsxs("div",{className:a.certificationsAdminModal,children:[e.jsxs("div",{className:a.adminHeader,children:[e.jsxs("h2",{children:[e.jsx("i",{className:"fas fa-certificate"}),"Administración de Certificaciones"]})," ",e.jsx("button",{className:a.closeBtn,onClick:d,children:e.jsx("i",{className:"fas fa-times"})})]})," ",e.jsxs("div",{className:a.adminToolbar,children:[e.jsxs("div",{className:a.toolbarLeft,children:[e.jsxs("button",{className:a.newCertificationBtn,onClick:Y,children:[e.jsx("i",{className:"fas fa-plus"}),"Nueva Certificación"]}),e.jsxs("button",{className:a.demoCrudBtn,onClick:R,title:"Llenar con datos de ejemplo",children:[e.jsx("i",{className:"fas fa-magic"}),"Datos Demo"]})]}),e.jsx("div",{className:a.toolbarRight,children:e.jsxs("span",{className:a.statsText,children:[l.length," certificaciones totales"]})})]})," ",e.jsx("div",{className:"admin-content",children:A?e.jsxs("div",{className:a.loading,children:[e.jsx("i",{className:"fas fa-spinner fa-spin"}),e.jsx("p",{children:"Cargando certificaciones..."})]}):l.length===0?e.jsxs("div",{className:a.emptyState,children:[e.jsx("i",{className:"fas fa-certificate"}),e.jsx("h3",{children:"No hay certificaciones"}),e.jsx("p",{children:"Añade la primera certificación usando el botón de arriba."})]}):e.jsx("div",{className:a.certificationsList,children:l.map(i=>e.jsxs("div",{className:a.adminCertificationCard,children:[" ",e.jsxs("div",{className:a.certificationHeader,children:[e.jsx("div",{className:a.certificationImage,children:i.image_url?e.jsx("img",{src:i.image_url,alt:i.title,onError:s=>{s.target.src="/assets/images/foto-perfil.jpg"}}):e.jsx("div",{className:a.placeholderImage,children:e.jsx("i",{className:"fas fa-certificate"})})}),e.jsxs("div",{className:a.certificationInfo,children:[e.jsx("h3",{children:i.title}),e.jsx("p",{className:a.issuer,children:i.issuer}),e.jsxs("div",{className:a.certMetadata,children:[e.jsxs("p",{className:a.date,children:[e.jsx("i",{className:"fas fa-calendar-alt"}),e.jsx("span",{children:i.date})]}),i.credential_id&&e.jsxs("p",{className:a.credentialId,children:[e.jsx("i",{className:"fas fa-id-badge"}),e.jsxs("span",{children:["ID: ",i.credential_id]})]}),i.verify_url&&e.jsxs("a",{href:i.verify_url,target:"_blank",rel:"noopener noreferrer",className:a.verifyLink,title:"Verificar certificación online",children:[e.jsx("i",{className:"fas fa-external-link-alt"}),e.jsx("span",{children:"Verificar online"})]})]})]})]}),e.jsxs("div",{className:a.certificationActions,children:[e.jsxs("button",{className:`${a.actionBtn} ${a.editBtn}`,onClick:()=>Q(i),title:"Editar certificación",children:[e.jsx("i",{className:"fas fa-edit"}),"Editar"]}),e.jsxs("button",{className:`${a.actionBtn} ${a.deleteBtn}`,onClick:()=>X(i._id||i.id||"",i.title),title:"Eliminar certificación",children:[e.jsx("i",{className:"fas fa-trash"}),"Eliminar"]})]})]},i._id||i.id))})}),N&&e.jsx("div",{className:a.formModalOverlay,children:e.jsxs("div",{className:a.formModal,children:[e.jsxs("div",{className:a.formHeader,children:[e.jsxs("h3",{children:[e.jsx("i",{className:"fas fa-certificate"}),_?"✏️ Editar Certificación":"➕ Nueva Certificación"]}),e.jsxs("div",{className:a.formHeaderActions,children:[N&&!_&&e.jsxs("button",{type:"button",className:a.demoCrudBtn,onClick:R,title:"Cargar datos de ejemplo",children:[e.jsx("i",{className:"fas fa-magic"}),"Demo"]}),e.jsx("button",{className:a.closeBtn,onClick:M,children:e.jsx("i",{className:"fas fa-times"})})]})]}),e.jsxs("form",{onSubmit:B,className:a.certificationForm,children:[e.jsxs("div",{className:a.formRow,children:[e.jsxs("div",{className:a.formGroup,children:[e.jsxs("label",{htmlFor:"title",children:[e.jsx("i",{className:"fas fa-certificate"}),"Título *"]}),e.jsx("input",{type:"text",id:"title",name:"title",value:t.title,onChange:L,className:a.modernInput,required:!0,placeholder:"Ej: AWS Solutions Architect"})]}),e.jsxs("div",{className:a.formGroup,children:[e.jsxs("label",{htmlFor:"issuer",children:[e.jsx("i",{className:"fas fa-building"}),"Emisor *"]}),e.jsx(Ve,{id:"issuer",name:"issuer",value:t.issuer,onChange:o,required:!0,placeholder:"Buscar o seleccionar emisor..."})]})," "]})," ",e.jsxs("div",{className:a.formRow,children:[e.jsxs("div",{className:a.formGroup,children:[e.jsxs("label",{htmlFor:"date",children:[e.jsx("i",{className:"fas fa-calendar-alt"}),"Fecha de emisión *"]}),e.jsx("input",{type:"month",id:"date",name:"date",value:t.date,onChange:$,className:a.modernInput,required:!0})]}),e.jsxs("div",{className:a.formGroup,children:[e.jsxs("label",{htmlFor:"credential_id",children:[e.jsx("i",{className:"fas fa-id-card"}),"ID de credencial"]}),e.jsx(xe,{value:t.credential_id,onChange:i=>{if(u(s=>({...s,credential_id:i})),n&&i.trim()){if(n.verifyBaseUrl){const s=G(n,i);s&&u(c=>({...c,verify_url:s}))}if(n.certificateImageUrl){const s=P(n,i);s&&u(c=>({...c,image_url:s}))}}else i.trim()||u(s=>({...s,verify_url:"",image_url:(n==null?void 0:n.logoUrl)||""}))},issuer:n,placeholder:"ID de credencial"})]})," "]}),n&&e.jsxs("div",{className:a.issuerPreview,children:[e.jsxs("div",{className:a.previewHeader,children:[e.jsx("i",{className:"fas fa-eye"}),e.jsx("span",{children:"Vista previa del emisor seleccionado"})]}),e.jsxs("div",{className:a.previewContent,children:[e.jsx("div",{className:a.previewLogo,children:e.jsx("img",{src:n.logoUrl,alt:`${n.name} logo`,onError:i=>{const s=i.target;s.style.display="none";const c=s.parentElement;if(c&&!c.querySelector(".logo-fallback")){const x=document.createElement("div");x.className="logo-fallback",x.innerHTML='<i class="fas fa-certificate"></i>',x.style.cssText=`
                                  display: flex;
                                  align-items: center;
                                  justify-content: center;
                                  width: 100%;
                                  height: 100%;
                                  color: var(--md-sys-color-on-surface-variant);
                                  font-size: 1.5rem;
                                  opacity: 0.7;
                                `,c.appendChild(x)}}})}),e.jsxs("div",{className:a.previewInfo,children:[e.jsx("div",{className:a.previewName,children:n.name}),n.description&&e.jsx("div",{className:a.previewDescription,children:n.description}),e.jsxs("div",{className:a.previewDetails,children:[e.jsxs("span",{className:a.previewCategory,children:[e.jsx("i",{className:"fas fa-tag"}),n.category]}),n.verifyBaseUrl&&e.jsxs("span",{className:a.previewVerify,children:[e.jsx("i",{className:"fas fa-check-circle"}),"Verificación automática disponible"]}),n.certificateImageUrl&&e.jsxs("span",{className:a.previewVerify,style:{background:"var(--md-sys-color-success-container)",color:"var(--md-sys-color-on-success-container)"},children:[e.jsx("i",{className:"fas fa-certificate"}),"Imagen de certificado"]})]})]})]})]}),e.jsx("div",{className:a.formRow,children:e.jsxs("div",{className:a.formGroup,children:[e.jsx("label",{htmlFor:"order_index",children:"Orden"}),e.jsx("input",{type:"number",id:"order_index",name:"order_index",value:t.order_index,onChange:L,min:"0"})]})}),e.jsxs("div",{className:a.formActions,children:[e.jsx("button",{type:"button",className:a.btnSecondary,onClick:M,disabled:h,children:"Cancelar"}),e.jsx("button",{type:"submit",className:a.btnPrimary,disabled:h,children:h?e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"fas fa-spinner fa-spin"}),"Guardando..."]}):e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"fas fa-save"}),_?"Guardar Cambios":"Crear Certificación"]})})]})]})]})})]})})})},Ri="_certificationsGrid_111at_131",Hi="_certificationCard_111at_148",Zi="_certImage_111at_240",Oi="_certContent_111at_310",Vi="_certTitle_111at_319",Wi="_certIssuer_111at_335",Qi="_certDetails_111at_363",Xi="_certDate_111at_372",Yi="_certId_111at_373",qi="_certActions_111at_419",Ji="_certVerifyBtn_111at_435",Ki="_disabled_111at_514",ea="_certBadge_111at_561",ia="_loadingState_111at_609",aa="_loadingSpinner_111at_617",sa="_emptyState_111at_643",ta="_emptyIcon_111at_674",ra="_emptyTitle_111at_703",oa="_emptyDescription_111at_713",p={certificationsGrid:Ri,certificationCard:Hi,certImage:Zi,certContent:Oi,certTitle:Vi,certIssuer:Wi,certDetails:Qi,certDate:Xi,certId:Yi,certActions:qi,certVerifyBtn:Ji,disabled:Ki,certBadge:ea,loadingState:ia,loadingSpinner:aa,emptyState:sa,emptyIcon:ta,emptyTitle:ra,emptyDescription:oa},ma=({isAdminMode:d=!1,showAdminFAB:l=!1})=>{const[r,A]=g.useState([]),[j,N]=g.useState(!0),[w,_]=g.useState(!1),{showError:C}=W(),h=async()=>{try{N(!0),console.log("Iniciando carga de certificaciones...");const f=await V();console.log("Datos recibidos de la API:",f);const v=f.map(t=>({id:t._id||t.id||"",title:t.title,issuer:t.issuer,date:t.date,credentialId:t.credential_id,image:t.image_url||"/assets/images/foto-perfil.jpg",verifyUrl:t.verify_url}));console.log("Datos mapeados:",v),A(v)}catch(f){console.error("Error cargando certificaciones:",f),C("Error","No se pudieron cargar las certificaciones")}finally{N(!1)}};g.useEffect(()=>{h()},[]);const b=()=>{_(!1),h()};return e.jsxs("div",{className:"section-cv",id:"certifications",children:[e.jsx(ie,{icon:"fas fa-certificate",title:"Certificaciones",subtitle:"Credenciales y certificaciones profesionales obtenidas",className:"certifications"}),e.jsxs("div",{className:"section-container",children:[j?e.jsx("div",{className:p.loadingState,children:e.jsxs("div",{className:p.loadingSpinner,children:[e.jsx("i",{className:"fas fa-spinner fa-spin"}),e.jsx("p",{children:"Cargando certificaciones..."})]})}):e.jsxs("div",{className:p.sectionContainer,children:[e.jsx("div",{className:p.certificationsGrid,children:r.map((f,v)=>e.jsxs("div",{className:p.certificationCard,style:{animationDelay:`${v*.1}s`},children:[e.jsx("div",{className:p.certImage,children:e.jsx("img",{src:f.image,alt:f.title,onError:t=>{t.target.src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjQiIGhlaWdodD0iNjQiIHZpZXdCb3g9IjAgMCA2NCA2NCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjY0IiBoZWlnaHQ9IjY0IiBmaWxsPSIjRjVGNUY1Ii8+CjxwYXRoIGQ9Ik0zMiAyMEwyNiAyNkgzOEwzMiAyMFoiIGZpbGw9IiM5Q0E0QUYiLz4KPHBhdGggZD0iTTQ0IDM4SDIwVjQySDQ0VjM4WiIgZmlsbD0iIzlDQTRBRiIvPgo8L3N2Zz4K"}})}),e.jsxs("div",{className:p.certContent,children:[e.jsx("h3",{className:p.certTitle,children:f.title}),e.jsx("p",{className:p.certIssuer,children:f.issuer}),e.jsxs("div",{className:p.certDetails,children:[e.jsxs("div",{className:p.certDate,children:[e.jsx("i",{className:"fas fa-calendar-alt"}),e.jsx("span",{children:f.date})]}),f.credentialId&&e.jsxs("div",{className:p.certId,children:[e.jsx("i",{className:"fas fa-id-badge"}),e.jsxs("span",{children:["ID: ",f.credentialId]})]})]}),e.jsx("div",{className:p.certActions,children:f.verifyUrl?e.jsxs("a",{href:f.verifyUrl,target:"_blank",rel:"noopener noreferrer",className:p.certVerifyBtn,title:"Verificar certificación",children:[e.jsx("i",{className:"fas fa-check-circle"}),e.jsx("span",{children:"Verificar"})]}):e.jsxs("button",{className:`${p.certVerifyBtn} ${p.disabled}`,title:"Verificación no disponible",disabled:!0,children:[e.jsx("i",{className:"fas fa-check-circle"}),e.jsx("span",{children:"Verificar"})]})})]}),e.jsx("div",{className:p.certBadge,children:e.jsx("i",{className:"fas fa-award"})})]},`cert-${f.id}`))}),r.length===0&&e.jsxs("div",{className:p.emptyState,children:[e.jsx("div",{className:p.emptyIcon,children:e.jsx("i",{className:"fas fa-certificate"})}),e.jsx("h3",{className:p.emptyTitle,children:"No hay certificaciones disponibles"}),e.jsx("p",{className:p.emptyDescription,children:"Las certificaciones aparecerán aquí cuando estén disponibles."})]})]}),!d&&l&&e.jsx(ae,{actions:[{id:"admin-certifications",onClick:()=>{_(!0)},icon:"fas fa-shield-alt",label:"Administrar Certificaciones",color:"primary"}],position:"bottom-right"})]}),w&&e.jsx(Pi,{onClose:b})]})};export{ma as default};
