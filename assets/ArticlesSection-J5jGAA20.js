import{j as e,R as V,m as R,u as G,r as p,n as U,F as H}from"./index-BShJvRLL.js";import{H as N}from"./HeaderSection-WDLVVJW3.js";const q="_paginationContainer_1cbm1_5",K="_paginationInfo_1cbm1_23",J="_pagination_1cbm1_5",Q="_pageNumbers_1cbm1_51",W="_pageButton_1cbm1_63",X="_active_1cbm1_137",Y="_prevNext_1cbm1_151",Z="_buttonText_1cbm1_163",ee="_ellipsis_1cbm1_171",l={paginationContainer:q,paginationInfo:K,pagination:J,pageNumbers:Q,pageButton:W,active:X,prevNext:Y,buttonText:Z,ellipsis:ee},te=({currentPage:n,totalPages:r,onPageChange:_,totalItems:g,itemsPerPage:d,showInfo:v=!0})=>{if(r<=1)return null;const b=(n-1)*d+1,m=Math.min(n*d,g),f=(()=>{const c=[];c.push(1);const x=Math.max(2,n-2),u=Math.min(r-1,n+2);x>2&&c.push("...");for(let i=x;i<=u;i++)c.push(i);return u<r-1&&c.push("..."),r>1&&c.push(r),c})();return e.jsxs("div",{className:l.paginationContainer,children:["      ",v&&e.jsx("div",{className:l.paginationInfo,children:e.jsx("span",{children:g===1?"1 proyecto":`Mostrando ${b}-${m} de ${g} proyectos`})}),e.jsxs("nav",{className:l.pagination,"aria-label":"Navegación de páginas",children:[e.jsxs("button",{className:`${l.pageButton} ${l.prevNext}`,onClick:()=>_(n-1),disabled:n===1,"aria-label":"Página anterior",children:[e.jsx("i",{className:"fas fa-chevron-left"}),e.jsx("span",{className:l.buttonText,children:"Anterior"})]}),e.jsx("div",{className:l.pageNumbers,children:f.map((o,c)=>e.jsx(V.Fragment,{children:typeof o=="number"?e.jsx("button",{className:`${l.pageButton} ${o===n?l.active:""}`,onClick:()=>_(o),"aria-label":`Página ${o}`,"aria-current":o===n?"page":void 0,children:o}):e.jsx("span",{className:l.ellipsis,"aria-hidden":"true",children:o})},c))}),e.jsxs("button",{className:`${l.pageButton} ${l.prevNext}`,onClick:()=>_(n+1),disabled:n===r,"aria-label":"Página siguiente",children:[e.jsx("span",{className:l.buttonText,children:"Siguiente"}),e.jsx("i",{className:"fas fa-chevron-right"})]})]})]})},se="_articlesSection_z1dfg_7",ae="_articlesGrid_z1dfg_59",ie="_articleCard_z1dfg_85",ce="_articleImage_z1dfg_127",ne="_articleOverlay_z1dfg_131",le="_readMore_z1dfg_136",oe="_techChip_z1dfg_140",re="_articleTypeContainer_z1dfg_262",de="_articleBadge_z1dfg_270",_e="_articleTypeBadge_z1dfg_285",ge="_projectTypeBadge_z1dfg_297",me="_articleStatus_z1dfg_309",he="_articleMeta_z1dfg_354",pe="_articleDates_z1dfg_363",fe="_articleDate_z1dfg_363",ue="_articleViews_z1dfg_382",xe="_articleActions_z1dfg_418",je="_articleContent_z1dfg_486",Ne="_articleTitle_z1dfg_498",ve="_articleDescription_z1dfg_519",be="_articleLinks_z1dfg_539",ke="_articleLink_z1dfg_539",ye="_github_z1dfg_576",Ce="_demo_z1dfg_582",Te="_video_z1dfg_588",ze="_articleTechnologies_z1dfg_752",Be="_techMore_z1dfg_829",$e="_adminButton_z1dfg_861",De="_retryButton_z1dfg_898",Se="_articlesError_z1dfg_933",Ae="_articlesEmpty_z1dfg_954",Ee="_articleCardSkeleton_z1dfg_1127",Le="_skeletonImage_z1dfg_1149",Ie="_skeletonContent_z1dfg_1171",Me="_skeletonBadges_z1dfg_1179",we="_skeletonBadge_z1dfg_1179",Pe="_skeletonTitle_z1dfg_1210",Fe="_skeletonDescription_z1dfg_1234",Oe="_skeletonLine_z1dfg_1241",Ve="_skeletonTechs_z1dfg_1272",Re="_skeletonTech_z1dfg_1272",Ge="_loading_z1dfg_1010",Ue="_filtersContainer_z1dfg_1443",He="_filterButton_z1dfg_1451",qe="_active_z1dfg_1475",t={articlesSection:se,articlesGrid:ae,articleCard:ie,articleImage:ce,articleOverlay:ne,readMore:le,techChip:oe,articleTypeContainer:re,articleBadge:de,articleTypeBadge:_e,projectTypeBadge:ge,articleStatus:me,articleMeta:he,articleDates:pe,articleDate:fe,articleViews:ue,articleActions:xe,articleContent:je,articleTitle:Ne,articleDescription:ve,articleLinks:be,articleLink:ke,github:ye,demo:Ce,video:Te,articleTechnologies:ze,techMore:Be,adminButton:$e,retryButton:De,articlesError:Se,articlesEmpty:Ae,articleCardSkeleton:Ee,skeletonImage:Le,skeletonContent:Ie,skeletonBadges:Me,skeletonBadge:we,skeletonTitle:Pe,skeletonDescription:Fe,skeletonLine:Oe,skeletonTechs:Ve,skeletonTech:Re,loading:Ge,filtersContainer:Ue,filterButton:He,active:qe},We=({onArticleClick:n,showAdminButton:r=!1,onAdminClick:_})=>{const g=R(),{articles:d,articlesLoading:v,articlesError:b}=G(),[m,y]=p.useState([]),[f,o]=p.useState(1),[c]=p.useState(3),[x,u]=p.useState(!1),[i,E]=p.useState("all"),h=d.length>0?d:m,C=d.length>0?v:m.length===0,T=d.length>0?b:null,z=(()=>{let s=h;return i==="projects"?s=h.filter(a=>!a.article_content):i==="articles"&&(s=h.filter(a=>a.article_content)),s})(),j=z.length,B=Math.ceil(j/c),$=(f-1)*c,L=$+c,I=z.slice($,L),M=s=>{s!==f&&(u(!0),setTimeout(()=>{o(s),u(!1);const a=document.querySelector("#articles .header-section-title");a&&a.scrollIntoView({behavior:"smooth",block:"start"})},100))},k=s=>{E(s),o(1)};p.useEffect(()=>{d.length===0&&m.length===0&&D()},[d.length,m.length]);const D=async()=>{try{const s=await U();console.log("Artículos cargados:",(s==null?void 0:s.length)||0),y(s)}catch(s){console.error("Error al cargar los proyectos:",s)}},S=s=>{n?n(s):g(`/article/${s}`)},A=()=>{g("/articles/admin"),_==null||_()},w=h.some(s=>!s.article_content),P=h.some(s=>s.article_content),F=w&&P;return C?e.jsxs("section",{className:t.articlesSection,children:[e.jsx(N,{icon:"fas fa-project-diagram",title:"Proyectos Destacados",subtitle:"Una selección de mis proyectos más relevantes y sus tecnologías",className:"articles"}),e.jsx("div",{className:"section-container",children:e.jsx("div",{className:t.articlesGrid,children:[...Array(6)].map((s,a)=>e.jsxs("div",{className:t.articleCardSkeleton,children:[e.jsx("div",{className:t.skeletonImage}),e.jsxs("div",{className:t.skeletonContent,children:[e.jsxs("div",{className:t.skeletonBadges,children:[e.jsx("div",{className:t.skeletonBadge}),e.jsx("div",{className:t.skeletonBadge})]}),e.jsx("div",{className:t.skeletonTitle}),e.jsxs("div",{className:t.skeletonDescription,children:[e.jsx("div",{className:t.skeletonLine}),e.jsx("div",{className:t.skeletonLine})]}),e.jsxs("div",{className:t.skeletonTechs,children:[e.jsx("div",{className:t.skeletonTech}),e.jsx("div",{className:t.skeletonTech}),e.jsx("div",{className:t.skeletonTech})]})]})]},a))})})]}):T?e.jsxs("section",{className:t.articlesSection,children:[e.jsx(N,{icon:"fas fa-project-diagram",title:"Proyectos Destacados",subtitle:"Una selección de mis proyectos más relevantes y sus tecnologías",className:"articles"}),e.jsxs("div",{className:t.articlesError,children:[e.jsx("p",{children:T}),e.jsx("button",{onClick:D,className:t.retryButton,children:"Reintentar"})]})]}):h.length===0&&!C?e.jsxs("section",{className:t.articlesSection,children:[e.jsx(N,{icon:"fas fa-project-diagram",title:"Proyectos Destacados",subtitle:"Una selección de mis proyectos más relevantes y sus tecnologías",className:"articles"}),e.jsxs("div",{className:t.articlesEmpty,children:[e.jsx("i",{className:"fas fa-project-diagram"}),e.jsx("p",{children:"No hay proyectos publicados aún."}),r&&e.jsxs("button",{onClick:A,className:t.adminButton,children:[e.jsx("i",{className:"fas fa-plus"})," Crear primer proyecto"]})]}),"      "]}):e.jsxs("section",{className:"section-cv",id:"articles",children:[e.jsx(N,{icon:"fas fa-project-diagram",title:"Proyectos Destacados",subtitle:j>c?`Mis proyectos más relevantes (${j} ${i==="all"||i==="projects"?"proyectos":"artículos"} ${i==="all"?"en total":"encontrados"})`:"Una selección de mis proyectos más relevantes y sus tecnologías",className:"articles"}),e.jsxs("div",{className:"section-container",children:[F&&e.jsxs("div",{className:t.filtersContainer,children:[e.jsxs("button",{className:`${t.filterButton} ${i==="all"?t.active:""}`,onClick:()=>k("all"),"aria-pressed":i==="all",children:[e.jsx("i",{className:"fas fa-th"})," Todos"]}),e.jsxs("button",{className:`${t.filterButton} ${i==="projects"?t.active:""}`,onClick:()=>k("projects"),"aria-pressed":i==="projects",children:[e.jsx("i",{className:"fas fa-code"})," Proyectos"]}),e.jsxs("button",{className:`${t.filterButton} ${i==="articles"?t.active:""}`,onClick:()=>k("articles"),"aria-pressed":i==="articles",children:[e.jsx("i",{className:"fas fa-newspaper"})," Artículos"]})]}),e.jsx("div",{className:`${t.articlesGrid} ${x?t.loading:""}`,children:I.map(s=>e.jsxs("article",{className:t.articleCard,onClick:()=>S(s.id),tabIndex:0,onKeyDown:a=>{(a.key==="Enter"||a.key===" ")&&(a.preventDefault(),S(s.id))},children:[s.image_url&&e.jsxs("div",{className:t.articleImage,children:[e.jsx("img",{src:s.image_url,alt:s.title,loading:"lazy"}),e.jsx("div",{className:t.articleOverlay,"data-tooltip":"Ver proyecto completo",role:"button",tabIndex:-1,"aria-label":"Abrir proyecto",children:e.jsx("i",{className:"fas fa-newspaper","aria-hidden":"true"})})]}),e.jsxs("div",{className:t.articleContent,children:[e.jsxs("div",{className:t.articleTypeContainer,children:[s.article_content?e.jsxs("span",{className:`${t.articleBadge} ${t.articleTypeBadge}`,role:"badge","aria-label":"Tipo de contenido: Artículo",children:[e.jsx("i",{className:"fas fa-newspaper","aria-hidden":"true"}),"Artículo"]}):e.jsxs("span",{className:`${t.articleBadge} ${t.projectTypeBadge}`,role:"badge","aria-label":"Tipo de contenido: Proyecto",children:[e.jsx("i",{className:"fas fa-code","aria-hidden":"true"}),"Proyecto"]}),e.jsx("span",{className:`${t.articleBadge} ${t.articleStatus}`,"data-status":s.status,role:"badge","aria-label":`Estado del proyecto: ${s.status}`,children:s.status==="Completado"?"COMPLETADO":s.status==="En Desarrollo"?"EN DESARROLLO":"BORRADOR"})]}),e.jsxs("div",{className:t.articleMeta,children:[e.jsx("div",{className:t.articleDates,children:s.created_at?e.jsx("time",{className:t.articleDate,dateTime:s.created_at,title:`Publicado el ${new Date(s.created_at).toLocaleDateString("es-ES")}`,children:new Date(s.created_at).toLocaleDateString("es-ES",{day:"numeric",month:"short",year:"numeric"})}):e.jsx("span",{className:t.articleDate,children:"Fecha no disponible"})}),e.jsxs("span",{className:t.articleViews,"aria-label":`Número de visitas: ${s.views||0}`,children:[e.jsx("i",{className:"fas fa-eye","aria-hidden":"true"}),s.views||0]})]}),e.jsx("h3",{className:t.articleTitle,children:s.title}),e.jsx("p",{className:t.articleDescription,children:s.description}),s.technologies&&s.technologies.length>0&&e.jsxs("div",{className:t.articleTechnologies,children:[s.technologies.slice(0,4).map((a,O)=>e.jsx("span",{className:t.techChip,children:a},O)),s.technologies.length>4&&e.jsxs("span",{className:t.techMore,children:["+",s.technologies.length-4]})]}),e.jsxs("div",{className:t.articleLinks,children:[s.github_url&&e.jsx("a",{href:s.github_url,className:`${t.articleLink} ${t.github}`,target:"_blank",rel:"noopener noreferrer",onClick:a=>a.stopPropagation(),"aria-label":"Ver repositorio en GitHub",children:e.jsx("i",{className:"fab fa-github"})}),s.live_url&&s.live_url!=="#"&&e.jsx("a",{href:s.live_url,className:`${t.articleLink} ${t.demo}`,target:"_blank",rel:"noopener noreferrer",onClick:a=>a.stopPropagation(),"aria-label":"Ver demo en vivo",children:e.jsx("i",{className:"fas fa-eye"})}),s.video_demo_url&&e.jsx("a",{href:s.video_demo_url,className:`${t.articleLink} ${t.video}`,target:"_blank",rel:"noopener noreferrer",onClick:a=>a.stopPropagation(),"aria-label":"Ver video demostración",children:e.jsx("i",{className:"fab fa-youtube"})})]}),e.jsx("div",{className:t.articleActions,children:e.jsxs("span",{className:t.readMore,children:["Ver proyecto completo ",e.jsx("i",{className:"fas fa-arrow-right"})]})})]})]},s.id))}),B>1&&e.jsx(te,{currentPage:f,totalPages:B,onPageChange:M,totalItems:j,itemsPerPage:c,showInfo:!0})]}),r&&e.jsx(H,{onClick:A,icon:"fas fa-edit",label:"Gestionar Proyectos",color:"primary",position:"bottom-right"})]})};export{We as default};
